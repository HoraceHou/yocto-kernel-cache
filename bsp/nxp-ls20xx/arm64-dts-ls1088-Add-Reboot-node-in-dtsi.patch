From d9174b325f3f950822a7e2462c6eec90f4242085 Mon Sep 17 00:00:00 2001
From: Ashish Kumar <Ashish.Kumar@nxp.com>
Date: Mon, 19 Jun 2017 18:32:13 +0530
Subject: [PATCH 035/767] arm64: dts: ls1088: Add Reboot node in dtsi

Signed-off-by: Ashish Kumar <Ashish.Kumar@nxp.com>
[Xulin: Original patch taken from NXP LSDK-18.09.]
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 .../arm64/boot/dts/freescale/fsl-ls1088a.dtsi | 24 +++++++++++++++----
 1 file changed, 19 insertions(+), 5 deletions(-)

diff --git a/arch/arm64/boot/dts/freescale/fsl-ls1088a.dtsi b/arch/arm64/boot/dts/freescale/fsl-ls1088a.dtsi
index d9b58e3fd639..2546d559f52c 100644
--- a/arch/arm64/boot/dts/freescale/fsl-ls1088a.dtsi
+++ b/arch/arm64/boot/dts/freescale/fsl-ls1088a.dtsi
@@ -342,11 +342,6 @@
 			};
 		};
 
-		dcfg: dcfg@1e00000 {
-			compatible = "fsl,ls1088a-dcfg", "syscon";
-			reg = <0x0 0x1e00000 0x0 0x10000>;
-			little-endian;
-		};
 	};
 
 	sysclk: sysclk {
@@ -356,6 +351,25 @@
 		clock-output-names = "sysclk";
 	};
 
+	dcfg: dcfg@1e00000 {
+		compatible = "fsl,ls1088a-dcfg", "syscon";
+		reg = <0x0 0x1e00000 0x0 0x10000>;
+		little-endian;
+	};
+
+	rstcr: syscon@1e60000 {
+		compatible = "fsl,ls1088a-rstcr", "syscon";
+		reg = <0x0 0x1e60000 0x0 0x4>;
+	};
+
+	reboot {
+		compatible = "syscon-reboot";
+		regmap = <&rstcr>;
+		offset = <0x0>;
+		mask = <0x02>;
+	};
+
+
 	soc {
 		compatible = "simple-bus";
 		#address-cells = <2>;
-- 
2.17.0


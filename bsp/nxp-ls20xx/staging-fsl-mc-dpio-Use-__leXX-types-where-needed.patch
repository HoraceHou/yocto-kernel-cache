From f53c59491ad810dea6ea6ee513b87eec3235503b Mon Sep 17 00:00:00 2001
From: Ioana Radulescu <ruxandra.radulescu@nxp.com>
Date: Wed, 18 Jul 2018 13:22:09 +0300
Subject: [PATCH 603/767] staging: fsl-mc/dpio: Use __leXX types where needed

Specify explicitly the endianness of structure fields related
to fq/bpool query commands and responses.

Signed-off-by: Ioana Radulescu <ruxandra.radulescu@nxp.com>
[Xulin: Original patch taken from NXP LSDK-18.09.]
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 .../staging/fsl-mc/bus/dpio/qbman-portal.c    |  4 +-
 .../staging/fsl-mc/bus/dpio/qbman-portal.h    | 46 +++++++++----------
 2 files changed, 25 insertions(+), 25 deletions(-)

diff --git a/drivers/staging/fsl-mc/bus/dpio/qbman-portal.c b/drivers/staging/fsl-mc/bus/dpio/qbman-portal.c
index 5e31cd176b3c..7569b6890f34 100644
--- a/drivers/staging/fsl-mc/bus/dpio/qbman-portal.c
+++ b/drivers/staging/fsl-mc/bus/dpio/qbman-portal.c
@@ -1069,7 +1069,7 @@ int qbman_swp_CDAN_set(struct qbman_swp *s, u16 channelid,
 struct qbman_fq_query_desc {
 	u8 verb;
 	u8 reserved[3];
-	u32 fqid;
+	__le32 fqid;
 	u8 reserved2[56];
 };
 
@@ -1118,7 +1118,7 @@ u32 qbman_fq_state_byte_count(const struct qbman_fq_query_np_rslt *r)
 struct qbman_bp_query_desc {
 	u8 verb;
 	u8 reserved;
-	u16 bpid;
+	__le16 bpid;
 	u8 reserved2[60];
 };
 
diff --git a/drivers/staging/fsl-mc/bus/dpio/qbman-portal.h b/drivers/staging/fsl-mc/bus/dpio/qbman-portal.h
index 2fb9b673e04f..b55401f194b1 100644
--- a/drivers/staging/fsl-mc/bus/dpio/qbman-portal.h
+++ b/drivers/staging/fsl-mc/bus/dpio/qbman-portal.h
@@ -451,16 +451,16 @@ struct qbman_fq_query_np_rslt {
 	u8 st1;
 	u8 st2;
 	u8 reserved[2];
-	u16 od1_sfdr;
-	u16 od2_sfdr;
-	u16 od3_sfdr;
-	u16 ra1_sfdr;
-	u16 ra2_sfdr;
-	u32 pfdr_hptr;
-	u32 pfdr_tptr;
-	u32 frm_cnt;
-	u32 byte_cnt;
-	u16 ics_surp;
+	__le16 od1_sfdr;
+	__le16 od2_sfdr;
+	__le16 od3_sfdr;
+	__le16 ra1_sfdr;
+	__le16 ra2_sfdr;
+	__le32 pfdr_hptr;
+	__le32 pfdr_tptr;
+	__le32 frm_cnt;
+	__le32 byte_cnt;
+	__le16 ics_surp;
 	u8 is;
 	u8 reserved2[29];
 };
@@ -476,19 +476,19 @@ struct qbman_bp_query_rslt {
 	u8 reserved[4];
 	u8 bdi;
 	u8 state;
-	u32 fill;
-	u32 hdotr;
-	u16 swdet;
-	u16 swdxt;
-	u16 hwdet;
-	u16 hwdxt;
-	u16 swset;
-	u16 swsxt;
-	u16 vbpid;
-	u16 icid;
-	u64 bpscn_addr;
-	u64 bpscn_ctx;
-	u16 hw_targ;
+	__le32 fill;
+	__le32 hdotr;
+	__le16 swdet;
+	__le16 swdxt;
+	__le16 hwdet;
+	__le16 hwdxt;
+	__le16 swset;
+	__le16 swsxt;
+	__le16 vbpid;
+	__le16 icid;
+	__le64 bpscn_addr;
+	__le64 bpscn_ctx;
+	__le16 hw_targ;
 	u8 dbe;
 	u8 reserved2;
 	u8 sdcnt;
-- 
2.17.0


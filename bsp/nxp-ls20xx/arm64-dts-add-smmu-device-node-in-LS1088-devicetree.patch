From 1ce3d3c6292897a5c861f5210edfdf4bc55fe21d Mon Sep 17 00:00:00 2001
From: Nipun Gupta <nipun.gupta@nxp.com>
Date: Wed, 19 Apr 2017 22:26:15 +0530
Subject: [PATCH 002/767] arm64: dts: add smmu device node in LS1088 devicetree

Signed-off-by: Nipun Gupta <nipun.gupta@nxp.com>
[Xulin: Original patch taken from NXP LSDK-18.09.]
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 .../arm64/boot/dts/freescale/fsl-ls1088a.dtsi | 87 ++++++++++++++++++-
 1 file changed, 86 insertions(+), 1 deletion(-)

diff --git a/arch/arm64/boot/dts/freescale/fsl-ls1088a.dtsi b/arch/arm64/boot/dts/freescale/fsl-ls1088a.dtsi
index 1c6556bcfddf..0927edfd4387 100644
--- a/arch/arm64/boot/dts/freescale/fsl-ls1088a.dtsi
+++ b/arch/arm64/boot/dts/freescale/fsl-ls1088a.dtsi
@@ -668,6 +668,92 @@
 			clocks = <&clockgen 4 3>, <&clockgen 4 3>;
 			clock-names = "apb_pclk", "wdog_clk";
 		};
+	
+		smmu: iommu@5000000 {
+			compatible = "arm,mmu-500";
+			reg = <0 0x5000000 0 0x800000>;
+			#global-interrupts = <12>;
+			#iommu-cells = <1>;
+			stream-match-mask = <0x7C00>;
+			interrupts = <0 13 4>, /* global secure fault */
+				     <0 14 4>, /* combined secure interrupt */
+				     <0 15 4>, /* global non-secure fault */
+				     <0 16 4>, /* combined non-secure interrupt */
+				/* performance counter interrupts 0-7 */
+				     <0 211 4>,
+				     <0 212 4>,
+				     <0 213 4>,
+				     <0 214 4>,
+				     <0 215 4>,
+				     <0 216 4>,
+				     <0 217 4>,
+				     <0 218 4>,
+				/* per context interrupt, 64 interrupts */
+				     <0 146 4>,
+				     <0 147 4>,
+				     <0 148 4>,
+				     <0 149 4>,
+				     <0 150 4>,
+				     <0 151 4>,
+				     <0 152 4>,
+				     <0 153 4>,
+				     <0 154 4>,
+				     <0 155 4>,
+				     <0 156 4>,
+				     <0 157 4>,
+				     <0 158 4>,
+				     <0 159 4>,
+				     <0 160 4>,
+				     <0 161 4>,
+				     <0 162 4>,
+				     <0 163 4>,
+				     <0 164 4>,
+				     <0 165 4>,
+				     <0 166 4>,
+				     <0 167 4>,
+				     <0 168 4>,
+				     <0 169 4>,
+				     <0 170 4>,
+				     <0 171 4>,
+				     <0 172 4>,
+				     <0 173 4>,
+				     <0 174 4>,
+				     <0 175 4>,
+				     <0 176 4>,
+				     <0 177 4>,
+				     <0 178 4>,
+				     <0 179 4>,
+				     <0 180 4>,
+				     <0 181 4>,
+				     <0 182 4>,
+				     <0 183 4>,
+				     <0 184 4>,
+				     <0 185 4>,
+				     <0 186 4>,
+				     <0 187 4>,
+				     <0 188 4>,
+				     <0 189 4>,
+				     <0 190 4>,
+				     <0 191 4>,
+				     <0 192 4>,
+				     <0 193 4>,
+				     <0 194 4>,
+				     <0 195 4>,
+				     <0 196 4>,
+				     <0 197 4>,
+				     <0 198 4>,
+				     <0 199 4>,
+				     <0 200 4>,
+				     <0 201 4>,
+				     <0 202 4>,
+				     <0 203 4>,
+				     <0 204 4>,
+				     <0 205 4>,
+				     <0 206 4>,
+				     <0 207 4>,
+				     <0 208 4>,
+				     <0 209 4>;
+		};
 	};
 
 	firmware {
@@ -676,5 +762,4 @@
 			method = "smc";
 		};
 	};
-
 };
-- 
2.17.0


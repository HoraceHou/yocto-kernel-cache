From 2bd640b7ad166f67f3c743ef29e6f972e135eb17 Mon Sep 17 00:00:00 2001
From: Alexandre Belloni <alexandre.belloni@bootlin.com>
Date: Wed, 10 Apr 2019 22:56:02 +0200
Subject: [PATCH 038/245] rtc: pcf85363: remove bogus i2c functionality check

commit 6ea88d01ac958d66a0d80abbdea77071b47802ca from
http://source.codeaurora.org/external/qoriq/qoriq-components/linux.git

regmap is abstracting the i2c functionalities the best it can, there is no
need to check.

Signed-off-by: Alexandre Belloni <alexandre.belloni@bootlin.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 drivers/rtc/rtc-pcf85363.c | 3 ---
 1 file changed, 3 deletions(-)

diff --git a/drivers/rtc/rtc-pcf85363.c b/drivers/rtc/rtc-pcf85363.c
index 8d538a253d72..5e369846795e 100644
--- a/drivers/rtc/rtc-pcf85363.c
+++ b/drivers/rtc/rtc-pcf85363.c
@@ -385,9 +385,6 @@ static int pcf85363_probe(struct i2c_client *client,
 	if (data)
 		config = data;
 
-	if (!i2c_check_functionality(client->adapter, I2C_FUNC_I2C))
-		return -ENODEV;
-
 	pcf85363 = devm_kzalloc(&client->dev, sizeof(struct pcf85363),
 				GFP_KERNEL);
 	if (!pcf85363)
-- 
2.17.1


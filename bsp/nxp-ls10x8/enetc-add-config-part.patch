From 6f3841139df60cb20b164cbb52d3c9509a4069db Mon Sep 17 00:00:00 2001
From: Zhao Qiang <qiang.zhao@nxp.com>
Date: Wed, 28 Aug 2019 18:17:01 +0800
Subject: [PATCH 098/245] enetc: add config part

commit 2b53ece141d2cfceb37fe7a650cf5bb57e42a85d from
http://source.codeaurora.org/external/qoriq/qoriq-components/linux.git

Signed-off-by: Zhao Qiang <qiang.zhao@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 drivers/net/ethernet/freescale/Kconfig  | 9 +++++++++
 drivers/net/ethernet/freescale/Makefile | 2 ++
 net/Kconfig                             | 1 +
 net/Makefile                            | 3 +++
 4 files changed, 15 insertions(+)

diff --git a/drivers/net/ethernet/freescale/Kconfig b/drivers/net/ethernet/freescale/Kconfig
index b8a3368374f1..f8b88b96727d 100644
--- a/drivers/net/ethernet/freescale/Kconfig
+++ b/drivers/net/ethernet/freescale/Kconfig
@@ -95,8 +95,17 @@ config GIANFAR
 	  This driver supports the Gigabit TSEC on the MPC83xx, MPC85xx,
 	  and MPC86xx family of chips, the eTSEC on LS1021A and the FEC
 	  on the 8540.
+
+config FSL_ENETC_MDIO
+	tristate "External MDIO PCI endpoint for ENETC"
+	depends on PCI
+	select FSL_XGMAC_MDIO
+	---help---
+	  Supports MDIO as an integrated PCI endpoint, on SoCs with ENETC.
+
 source "drivers/net/ethernet/freescale/sdk_fman/Kconfig"
 source "drivers/net/ethernet/freescale/sdk_dpaa/Kconfig"
 source "drivers/net/ethernet/freescale/dpaa/Kconfig"
+source "drivers/net/ethernet/freescale/enetc/Kconfig"
 
 endif # NET_VENDOR_FREESCALE
diff --git a/drivers/net/ethernet/freescale/Makefile b/drivers/net/ethernet/freescale/Makefile
index 55deca7fcb1b..2fedce984733 100644
--- a/drivers/net/ethernet/freescale/Makefile
+++ b/drivers/net/ethernet/freescale/Makefile
@@ -24,3 +24,5 @@ obj-$(if $(CONFIG_FSL_SDK_DPAA_ETH),y) += sdk_dpaa/
 
 obj-$(CONFIG_FSL_FMAN) += fman/
 obj-$(CONFIG_FSL_DPAA_ETH) += dpaa/
+obj-$(CONFIG_FSL_ENETC) += enetc/
+obj-$(CONFIG_FSL_ENETC_MDIO) += enetc_mdio.o
diff --git a/net/Kconfig b/net/Kconfig
index f738a6f27665..8981ec503110 100644
--- a/net/Kconfig
+++ b/net/Kconfig
@@ -225,6 +225,7 @@ source "net/ieee802154/Kconfig"
 source "net/mac802154/Kconfig"
 source "net/sched/Kconfig"
 source "net/dcb/Kconfig"
+source "net/tsn/Kconfig"
 source "net/dns_resolver/Kconfig"
 source "net/batman-adv/Kconfig"
 source "net/openvswitch/Kconfig"
diff --git a/net/Makefile b/net/Makefile
index bdaf53925acd..16fff5ef1196 100644
--- a/net/Makefile
+++ b/net/Makefile
@@ -59,6 +59,9 @@ obj-$(CONFIG_CAIF)		+= caif/
 ifneq ($(CONFIG_DCB),)
 obj-y				+= dcb/
 endif
+ifneq ($(CONFIG_TSN),)
+obj-y                          += tsn/
+endif
 obj-$(CONFIG_6LOWPAN)		+= 6lowpan/
 obj-$(CONFIG_IEEE802154)	+= ieee802154/
 obj-$(CONFIG_MAC802154)		+= mac802154/
-- 
2.17.1


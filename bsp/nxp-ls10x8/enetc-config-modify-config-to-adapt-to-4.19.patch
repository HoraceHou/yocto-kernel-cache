From 087807ca28701ba8b238f8b4a9af8ea01524d5e0 Mon Sep 17 00:00:00 2001
From: Zhao Qiang <qiang.zhao@nxp.com>
Date: Tue, 24 Sep 2019 11:05:52 +0800
Subject: [PATCH 144/245] enetc: config: modify config to adapt to 4.19

commit f284284ccd6aa2713e688e03e540f8dc52a7e65d from
http://source.codeaurora.org/external/qoriq/qoriq-components/linux.git

Signed-off-by: Zhao Qiang <qiang.zhao@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 MAINTAINERS                             | 6 ++++++
 drivers/net/ethernet/freescale/Kconfig  | 7 -------
 drivers/net/ethernet/freescale/Makefile | 3 ++-
 3 files changed, 8 insertions(+), 8 deletions(-)

diff --git a/MAINTAINERS b/MAINTAINERS
index 0fa0a49eb5e9..cf5f30018059 100644
--- a/MAINTAINERS
+++ b/MAINTAINERS
@@ -5700,6 +5700,12 @@ L:	linuxppc-dev@lists.ozlabs.org
 S:	Maintained
 F:	drivers/dma/fsldma.*
 
+FREESCALE ENETC ETHERNET DRIVERS
+M:      Claudiu Manoil <claudiu.manoil@nxp.com>
+L:      netdev@vger.kernel.org
+S:      Maintained
+F:      drivers/net/ethernet/freescale/enetc/
+
 FREESCALE eTSEC ETHERNET DRIVER (GIANFAR)
 M:	Claudiu Manoil <claudiu.manoil@nxp.com>
 L:	netdev@vger.kernel.org
diff --git a/drivers/net/ethernet/freescale/Kconfig b/drivers/net/ethernet/freescale/Kconfig
index f8b88b96727d..d40e8a21b9dc 100644
--- a/drivers/net/ethernet/freescale/Kconfig
+++ b/drivers/net/ethernet/freescale/Kconfig
@@ -96,13 +96,6 @@ config GIANFAR
 	  and MPC86xx family of chips, the eTSEC on LS1021A and the FEC
 	  on the 8540.
 
-config FSL_ENETC_MDIO
-	tristate "External MDIO PCI endpoint for ENETC"
-	depends on PCI
-	select FSL_XGMAC_MDIO
-	---help---
-	  Supports MDIO as an integrated PCI endpoint, on SoCs with ENETC.
-
 source "drivers/net/ethernet/freescale/sdk_fman/Kconfig"
 source "drivers/net/ethernet/freescale/sdk_dpaa/Kconfig"
 source "drivers/net/ethernet/freescale/dpaa/Kconfig"
diff --git a/drivers/net/ethernet/freescale/Makefile b/drivers/net/ethernet/freescale/Makefile
index 2fedce984733..55233ae8bc4a 100644
--- a/drivers/net/ethernet/freescale/Makefile
+++ b/drivers/net/ethernet/freescale/Makefile
@@ -24,5 +24,6 @@ obj-$(if $(CONFIG_FSL_SDK_DPAA_ETH),y) += sdk_dpaa/
 
 obj-$(CONFIG_FSL_FMAN) += fman/
 obj-$(CONFIG_FSL_DPAA_ETH) += dpaa/
+
 obj-$(CONFIG_FSL_ENETC) += enetc/
-obj-$(CONFIG_FSL_ENETC_MDIO) += enetc_mdio.o
+obj-$(CONFIG_FSL_ENETC_VF) += enetc/
-- 
2.17.1


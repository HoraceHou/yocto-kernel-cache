From 343ed06ed23f404cce084f40ac3d047c3203f056 Mon Sep 17 00:00:00 2001
From: Zumeng Chen <zumeng.chen@windriver.com>
Date: Tue, 19 Mar 2019 12:21:47 +0800
Subject: [PATCH 501/706] soc: fsl: Add config/compilation entries for PM

Signed-off-by: Chenhui Zhao <chenhui.zhao@nxp.com>
Signed-off-by: Ran Wang <ran.wang_1@nxp.com>
(cherry picked from commit 02f3b9b3aea95d923e71bf4f17b1b1cd9f78fc5a)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/soc/fsl/Kconfig  | 7 +++++++
 drivers/soc/fsl/Makefile | 1 +
 2 files changed, 8 insertions(+)

diff --git a/drivers/soc/fsl/Kconfig b/drivers/soc/fsl/Kconfig
index fcd1b082b39b..e7f9d1ad16a0 100644
--- a/drivers/soc/fsl/Kconfig
+++ b/drivers/soc/fsl/Kconfig
@@ -17,6 +17,13 @@ config FSL_GUTS
 	  Other guts accesses, such as reading RCW, should eventually be moved
 	  into this driver as well.
 
+config FSL_SLEEP_FSM
+	bool
+	help
+	  This driver configures a hardware FSM (Finite State Machine) for deep sleep.
+	  The FSM is used to finish clean-ups at the last stage of system entering deep
+	  sleep, and also wakes up system when a wake up event happens.
+
 if ARM || ARM64
 source "drivers/soc/fsl/Kconfig.arm"
 source "drivers/soc/fsl/ls2-console/Kconfig"
diff --git a/drivers/soc/fsl/Makefile b/drivers/soc/fsl/Makefile
index 3312c7c82623..629dab8f0da5 100644
--- a/drivers/soc/fsl/Makefile
+++ b/drivers/soc/fsl/Makefile
@@ -8,3 +8,4 @@ obj-$(CONFIG_CPM)			+= qe/
 obj-$(CONFIG_FSL_GUTS)			+= guts.o
 obj-$(CONFIG_FSL_LS2_CONSOLE)		+= ls2-console/
 obj-$(CONFIG_LS_SOC_DRIVERS)		+= layerscape/
+obj-$(CONFIG_FSL_SLEEP_FSM)	+= sleep_fsm.o
-- 
2.17.1


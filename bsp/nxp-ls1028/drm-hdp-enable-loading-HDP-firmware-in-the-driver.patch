From 103937e9626f44794ecafc48e8fc1d6a36435e48 Mon Sep 17 00:00:00 2001
From: Jiafei Pan <Jiafei.Pan@nxp.com>
Date: Mon, 3 Dec 2018 19:39:22 +0000
Subject: [PATCH 373/706] drm: hdp: enable loading HDP firmware in the driver

Signed-off-by: Jiafei Pan <Jiafei.Pan@nxp.com>
(cherry picked from commit ebf093f48eaae8faaa80cbf65b27098e21c4dd33)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/gpu/drm/imx/hdp/imx-dp.c | 6 +++---
 drivers/gpu/drm/imx/hdp/imx-dp.h | 3 +++
 2 files changed, 6 insertions(+), 3 deletions(-)

diff --git a/drivers/gpu/drm/imx/hdp/imx-dp.c b/drivers/gpu/drm/imx/hdp/imx-dp.c
index d15d341e5a8c..339857794752 100644
--- a/drivers/gpu/drm/imx/hdp/imx-dp.c
+++ b/drivers/gpu/drm/imx/hdp/imx-dp.c
@@ -9,12 +9,12 @@
 #include <linux/io.h>
 #include <linux/of.h>
 #include <linux/of_address.h>
-#ifdef DEBUG_FW_LOAD
-#include "mhdp_firmware.h"
-#endif
 #include "imx-hdp.h"
 #include "imx-hdmi.h"
 #include "imx-dp.h"
+#ifdef DEBUG_FW_LOAD
+#include "mhdp_firmware.h"
+#endif
 
 #define EDP_PHY_RESET	0x230
 
diff --git a/drivers/gpu/drm/imx/hdp/imx-dp.h b/drivers/gpu/drm/imx/hdp/imx-dp.h
index ba21d3a4a869..a920ede99b27 100644
--- a/drivers/gpu/drm/imx/hdp/imx-dp.h
+++ b/drivers/gpu/drm/imx/hdp/imx-dp.h
@@ -7,6 +7,9 @@
 #ifndef _IMX_DP_H_
 #define _IMX_DP_H_
 
+/* Loading FW in the kernel */
+#define DEBUG_FW_LOAD
+
 void dp_fw_load(state_struct *state);
 int dp_fw_init(state_struct *state);
 void dp_mode_set(state_struct *state,
-- 
2.17.1


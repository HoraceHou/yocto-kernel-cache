From d9dbc3c6d30115c8444b06d4b22c8abe96cc1d2b Mon Sep 17 00:00:00 2001
From: Rajesh Bhagat <rajesh.bhagat@nxp.com>
Date: Fri, 23 Nov 2018 11:47:47 +0530
Subject: [PATCH 349/706] disable dspi and remove crypto node in dts

Signed-off-by: Sudhanshu Gupta <sudhanshu.gupta@nxp.com>
Signed-off-by: Rajesh Bhagat <rajesh.bhagat@nxp.com>
(cherry picked from commit 38a6ee49828bd85a334e2108c5a93635566d26c8)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 .../boot/dts/freescale/fsl-ls1028a-cfp.dts    |  5 +--
 .../boot/dts/freescale/fsl-ls1028a-pxp.dts    |  5 +--
 .../boot/dts/freescale/fsl-ls1028a-qds.dts    |  2 +-
 .../boot/dts/freescale/fsl-ls1028a-rdb.dts    |  2 +-
 .../boot/dts/freescale/fsl-ls1028a-simu.dts   |  3 --
 .../arm64/boot/dts/freescale/fsl-ls1028a.dtsi | 39 -------------------
 6 files changed, 4 insertions(+), 52 deletions(-)

diff --git a/arch/arm64/boot/dts/freescale/fsl-ls1028a-cfp.dts b/arch/arm64/boot/dts/freescale/fsl-ls1028a-cfp.dts
index 399ba6012d03..9eaea43d4b5f 100644
--- a/arch/arm64/boot/dts/freescale/fsl-ls1028a-cfp.dts
+++ b/arch/arm64/boot/dts/freescale/fsl-ls1028a-cfp.dts
@@ -1,7 +1,7 @@
 /*
  * Device Tree file for LS1028A software Simulator model
  *
- * Copyright 2017, NXP
+ * Copyright 2017-2018, NXP
  *
  * Sudhanshu Gupta <sudhanshu.gupta@nxp.com>
  *
@@ -52,7 +52,4 @@
 	model = "Layerscape 1028A CFP model";
 	compatible = "fsl,ls1028a-simu", "fsl,ls1028a";
 
-	aliases {
-		crypto = &crypto;
-	};
 };
diff --git a/arch/arm64/boot/dts/freescale/fsl-ls1028a-pxp.dts b/arch/arm64/boot/dts/freescale/fsl-ls1028a-pxp.dts
index dea813a7141a..cda16e9dff49 100644
--- a/arch/arm64/boot/dts/freescale/fsl-ls1028a-pxp.dts
+++ b/arch/arm64/boot/dts/freescale/fsl-ls1028a-pxp.dts
@@ -1,7 +1,7 @@
 /*
  * Device Tree file for LS1028A software Simulator model
  *
- * Copyright 2017, NXP
+ * Copyright 2017-2018, NXP
  *
  * Sudhanshu Gupta <sudhanshu.gupta@nxp.com>
  *
@@ -52,9 +52,6 @@
 	model = "Layerscape 1028A PXP  model";
 	compatible = "fsl,ls1028a-simu", "fsl,ls1028a";
 
-	aliases {
-		crypto = &crypto;
-	};
 };
 
 &dp0 {
diff --git a/arch/arm64/boot/dts/freescale/fsl-ls1028a-qds.dts b/arch/arm64/boot/dts/freescale/fsl-ls1028a-qds.dts
index 8dca3629f3a5..6ca6e33c0881 100755
--- a/arch/arm64/boot/dts/freescale/fsl-ls1028a-qds.dts
+++ b/arch/arm64/boot/dts/freescale/fsl-ls1028a-qds.dts
@@ -113,7 +113,7 @@
 
 &dspi0 {
 	bus-num = <0>;
-	status = "okay";
+	status = "disabled";
 
 	flash@0 {
 		#address-cells = <1>;
diff --git a/arch/arm64/boot/dts/freescale/fsl-ls1028a-rdb.dts b/arch/arm64/boot/dts/freescale/fsl-ls1028a-rdb.dts
index aa0796ad990f..93ff9282211a 100755
--- a/arch/arm64/boot/dts/freescale/fsl-ls1028a-rdb.dts
+++ b/arch/arm64/boot/dts/freescale/fsl-ls1028a-rdb.dts
@@ -177,7 +177,7 @@
 
 &dspi0 {
 	bus-num = <0>;
-	status = "okay";
+	status = "disabled";
 
 	flash@0 {
 		#address-cells = <1>;
diff --git a/arch/arm64/boot/dts/freescale/fsl-ls1028a-simu.dts b/arch/arm64/boot/dts/freescale/fsl-ls1028a-simu.dts
index 11b7e2f654f3..8f1817d7b19a 100644
--- a/arch/arm64/boot/dts/freescale/fsl-ls1028a-simu.dts
+++ b/arch/arm64/boot/dts/freescale/fsl-ls1028a-simu.dts
@@ -52,9 +52,6 @@
 	model = "Layerscape 1028A software Simulator model";
 	compatible = "fsl,ls1028a-simu", "fsl,ls1028a";
 
-	aliases {
-		crypto = &crypto;
-	};
 };
 
 &dp0 {
diff --git a/arch/arm64/boot/dts/freescale/fsl-ls1028a.dtsi b/arch/arm64/boot/dts/freescale/fsl-ls1028a.dtsi
index 16215f9ff9d8..473684caafad 100755
--- a/arch/arm64/boot/dts/freescale/fsl-ls1028a.dtsi
+++ b/arch/arm64/boot/dts/freescale/fsl-ls1028a.dtsi
@@ -262,45 +262,6 @@
 				     <0 208 4>, <0 209 4>;
 		};
 
-		crypto: crypto@8000000 {
-			compatible = "fsl,sec-v5.0", "fsl,sec-v4.0";
-			fsl,sec-era = <10>;
-			#address-cells = <1>;
-			#size-cells = <1>;
-			ranges = <0x0 0x00 0x8000000 0x100000>;
-			reg = <0x00 0x8000000 0x0 0x100000>;
-			interrupts = <GIC_SPI 139 IRQ_TYPE_LEVEL_HIGH>;
-			dma-coherent;
-
-			sec_jr0: jr@10000 {
-				compatible = "fsl,sec-v5.0-job-ring",
-					     "fsl,sec-v4.0-job-ring";
-				reg	= <0x10000 0x10000>;
-				interrupts = <GIC_SPI 140 IRQ_TYPE_LEVEL_HIGH>;
-			};
-
-			sec_jr1: jr@20000 {
-				compatible = "fsl,sec-v5.0-job-ring",
-					     "fsl,sec-v4.0-job-ring";
-				reg	= <0x20000 0x10000>;
-				interrupts = <GIC_SPI 141 IRQ_TYPE_LEVEL_HIGH>;
-			};
-
-			sec_jr2: jr@30000 {
-				compatible = "fsl,sec-v5.0-job-ring",
-					     "fsl,sec-v4.0-job-ring";
-				reg	= <0x30000 0x10000>;
-				interrupts = <GIC_SPI 142 IRQ_TYPE_LEVEL_HIGH>;
-			};
-
-			sec_jr3: jr@40000 {
-				compatible = "fsl,sec-v5.0-job-ring",
-					     "fsl,sec-v4.0-job-ring";
-				reg	= <0x40000 0x10000>;
-				interrupts = <GIC_SPI 143 IRQ_TYPE_LEVEL_HIGH>;
-			};
-		};
-
 		ddr: memory-controller@1080000 {
 			compatible = "fsl,qoriq-memory-controller";
 			reg = <0x0 0x1080000 0x0 0x1000>;
-- 
2.17.1


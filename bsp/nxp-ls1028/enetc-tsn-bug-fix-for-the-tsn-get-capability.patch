From 26080583c576b4def7285f13b25321ab457be413 Mon Sep 17 00:00:00 2001
From: Po Liu <Po.Liu@nxp.com>
Date: Wed, 29 Aug 2018 23:46:26 +0800
Subject: [PATCH 201/706] enetc-tsn: bug fix for the tsn get capability

Signed-off-by: Po Liu <Po.Liu@nxp.com>
(cherry picked from commit 2a8608c2fafb83565e8104a5b3c9358145e33d65)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/net/ethernet/freescale/enetc/enetc_tsn.c | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

diff --git a/drivers/net/ethernet/freescale/enetc/enetc_tsn.c b/drivers/net/ethernet/freescale/enetc/enetc_tsn.c
index bb77017cc223..f8a9916c8a74 100644
--- a/drivers/net/ethernet/freescale/enetc/enetc_tsn.c
+++ b/drivers/net/ethernet/freescale/enetc/enetc_tsn.c
@@ -1664,9 +1664,11 @@ u32 __enetc_tsn_get_cap(struct enetc_si *si)
 
 	if (reg & ENETC_PCAPR0_PSFP)
 		cap |= TSN_CAP_QCI;
-	else if (reg & ENETC_PCAPR0_TSN)
+
+	if (reg & ENETC_PCAPR0_TSN)
 		cap |= TSN_CAP_QBV;
-	else if (reg & ENETC_PCAPR0_QBU)
+
+	if (reg & ENETC_PCAPR0_QBU)
 		cap |= TSN_CAP_QBU;
 
 	cap |= TSN_CAP_CBS;
-- 
2.17.1


From 803b320e20f66afa02cc40765f28313e770b17da Mon Sep 17 00:00:00 2001
From: Catalin Horghidan <catalin.horghidan@nxp.com>
Date: Thu, 10 Jan 2019 16:17:48 +0200
Subject: [PATCH 452/706] mscc_felix: configure PGIDs for source port analysis

Signed-off-by: Catalin Horghidan <catalin.horghidan@nxp.com>
(cherry picked from commit 0f79599b7c489b10711c61d6b6a3e10053e243cc)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/net/ethernet/mscc/ocelot.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/mscc/ocelot.c b/drivers/net/ethernet/mscc/ocelot.c
index e63f3a7e1898..1ca6e4aa04fc 100644
--- a/drivers/net/ethernet/mscc/ocelot.c
+++ b/drivers/net/ethernet/mscc/ocelot.c
@@ -1719,7 +1719,7 @@ int ocelot_init(struct ocelot *ocelot)
 				 ANA_PORT_CPU_FWD_BPDU_CFG,
 				 port);
 		/* Ensure bridging is disabled */
-		ocelot_write_rix(ocelot, 0, ANA_PGID_PGID, PGID_SRC + port);
+		ocelot_write_rix(ocelot, BIT(cpu), ANA_PGID_PGID, PGID_SRC + port);
 	}
 
 	/* Configure and enable the CPU port. */
-- 
2.17.1


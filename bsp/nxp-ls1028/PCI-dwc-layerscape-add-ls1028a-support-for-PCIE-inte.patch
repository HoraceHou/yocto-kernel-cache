From be81faeb1303974fa791b82396496403c7385f5a Mon Sep 17 00:00:00 2001
From: Amrit Pal Singh <amritpal.singh@nxp.com>
Date: Wed, 8 Aug 2018 19:02:35 +0530
Subject: [PATCH 028/706] PCI: dwc: layerscape: add ls1028a support for PCIE
 interface.

(cherry picked from commit fee4a684632b5d9cb1b4c4b45207d807cbc03f53)

Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/pci/controller/dwc/pci-layerscape.c | 10 ++++++++++
 1 file changed, 10 insertions(+)

diff --git a/drivers/pci/controller/dwc/pci-layerscape.c b/drivers/pci/controller/dwc/pci-layerscape.c
index 7aa9a82b7ebd..514cceb4c7a5 100644
--- a/drivers/pci/controller/dwc/pci-layerscape.c
+++ b/drivers/pci/controller/dwc/pci-layerscape.c
@@ -259,9 +259,19 @@ static struct ls_pcie_drvdata ls2088_drvdata = {
 	.dw_pcie_ops = &dw_ls_pcie_ops,
 };
 
+static struct ls_pcie_drvdata ls1028a_drvdata = {
+	.lut_offset = 0x80000,
+	.ltssm_shift = 0,
+	.lut_dbg = 0x407fc,
+	.ops = &ls_pcie_host_ops,
+	.dw_pcie_ops = &dw_ls_pcie_ops,
+};
+
+
 static const struct of_device_id ls_pcie_of_match[] = {
 	{ .compatible = "fsl,ls1012a-pcie", .data = &ls1046_drvdata },
 	{ .compatible = "fsl,ls1021a-pcie", .data = &ls1021_drvdata },
+	{ .compatible = "fsl,ls1028a-pcie", .data = &ls1028a_drvdata },
 	{ .compatible = "fsl,ls1043a-pcie", .data = &ls1043_drvdata },
 	{ .compatible = "fsl,ls1046a-pcie", .data = &ls1046_drvdata },
 	{ .compatible = "fsl,ls2080a-pcie", .data = &ls2080_drvdata },
-- 
2.17.1


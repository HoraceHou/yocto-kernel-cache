From dac082429eb4b51ae516ff6ff4ad04e3e35e2b18 Mon Sep 17 00:00:00 2001
From: Xiaoliang Yang <xiaoliang.yang_1@nxp.com>
Date: Fri, 7 Dec 2018 05:09:47 +0800
Subject: [PATCH 395/706] switch: TSN: fix qav cir set issue

Unit of cir rate of qav is 100 kbps, but it used a wrong value
which is used 100 bps as unit in qos_shaper_conf_set function.

Signed-off-by: Xiaoliang Yang <xiaoliang.yang_1@nxp.com>
(cherry picked from commit 050238e24ee725bd8db6845cb9d27015eb5d09d1)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/net/ethernet/mscc/tsn_switch.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/drivers/net/ethernet/mscc/tsn_switch.c b/drivers/net/ethernet/mscc/tsn_switch.c
index b5a9ae7d837b..9b19ba2726cd 100644
--- a/drivers/net/ethernet/mscc/tsn_switch.c
+++ b/drivers/net/ethernet/mscc/tsn_switch.c
@@ -335,16 +335,16 @@ int qos_shaper_conf_set(struct net_device *ndev, u32 port_ix)
 
 	switch (ndev->phydev->speed) {
 	case SPEED_10:
-		cir = 10000000;
+		cir = 10000;
 		break;
 	case SPEED_100:
-		cir = 100000000;
+		cir = 100000;
 		break;
 	case SPEED_1000:
-		cir = 1000000000;
+		cir = 1000000;
 		break;
 	case SPEED_2500:
-		cir = 2500000000;
+		cir = 2500000;
 		break;
 	}
 
-- 
2.17.1


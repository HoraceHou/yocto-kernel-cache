From 4126b980287d5061cf4a49d048ed550e219961db Mon Sep 17 00:00:00 2001
From: Claudiu Manoil <claudiu.manoil@nxp.com>
Date: Wed, 13 Jun 2018 18:17:41 +0300
Subject: [PATCH 157/706] enetc: Fix MAC filter hash table bit ordering as per
 BGv167

Signed-off-by: Claudiu Manoil <claudiu.manoil@nxp.com>
(cherry picked from commit 25e684e45927623b8ea7b82840580ef59c4fd995)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/net/ethernet/freescale/enetc/enetc_pf.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/freescale/enetc/enetc_pf.c b/drivers/net/ethernet/freescale/enetc/enetc_pf.c
index 3916efdfd854..3c2a5540b02b 100644
--- a/drivers/net/ethernet/freescale/enetc/enetc_pf.c
+++ b/drivers/net/ethernet/freescale/enetc/enetc_pf.c
@@ -129,7 +129,7 @@ static void enetc_set_isol_vlan(struct enetc_hw *hw, int si, u16 vlan, u8 qos)
 
 static int enetc_mac_addr_hash_idx(const u8 *addr)
 {
-	u64 fold = ether_addr_to_u64(addr);
+	u64 fold = __swab64(ether_addr_to_u64(addr)) >> 16;
 	u64 mask = 0;
 	int res = 0;
 	int i;
-- 
2.17.1


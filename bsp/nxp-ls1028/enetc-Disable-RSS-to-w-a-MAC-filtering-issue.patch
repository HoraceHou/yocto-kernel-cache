From 31bd7a6e24da88aaea4c0ab3de2d81fb863a35b2 Mon Sep 17 00:00:00 2001
From: Claudiu Manoil <claudiu.manoil@nxp.com>
Date: Tue, 22 May 2018 14:55:39 +0300
Subject: [PATCH 151/706] enetc: Disable RSS, to w/a MAC filtering issue

Signed-off-by: Claudiu Manoil <claudiu.manoil@nxp.com>
(cherry picked from commit ae2ea370371ccf0e1d02b77668a5e2a177075728)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/net/ethernet/freescale/enetc/enetc.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/net/ethernet/freescale/enetc/enetc.c b/drivers/net/ethernet/freescale/enetc/enetc.c
index 5b1c533406cf..f0db8ac15d7b 100644
--- a/drivers/net/ethernet/freescale/enetc/enetc.c
+++ b/drivers/net/ethernet/freescale/enetc/enetc.c
@@ -929,8 +929,8 @@ static void enetc_configure_si(struct enetc_si *si)
 	enetc_wr(hw, ENETC_SICAR0,
 		 ENETC_SICAR_RD_COHERENT | ENETC_SICAR_WR_COHERENT);
 	enetc_wr(hw, ENETC_SICAR1, ENETC_SICAR_MSI);
-	/* enable SI, start RSS by default */
-	enetc_wr(hw, ENETC_SIMR, ENETC_SIMR_EN | ENETC_SIMR_RSSE);
+	/* enable SI, TODO: start RSS by default */
+	enetc_wr(hw, ENETC_SIMR, ENETC_SIMR_EN /*| ENETC_SIMR_RSSE*/);
 }
 
 int enetc_alloc_si_resources(struct enetc_ndev_priv *priv)
-- 
2.17.1


From c2b5e6bd57228e00f5223193b00a1d459ab37bcc Mon Sep 17 00:00:00 2001
From: Catalin Horghidan <catalin.horghidan@nxp.com>
Date: Mon, 17 Dec 2018 11:46:34 +0200
Subject: [PATCH 412/706] felix: don't register xmit handler for CPU port

Signed-off-by: Catalin Horghidan <catalin.horghidan@nxp.com>
(cherry picked from commit e832c228de5b7005e6a904c9998f21a66fde0222)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/net/ethernet/mscc/felix_board.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/mscc/felix_board.c b/drivers/net/ethernet/mscc/felix_board.c
index a70bb60a6d7b..6901312dc474 100644
--- a/drivers/net/ethernet/mscc/felix_board.c
+++ b/drivers/net/ethernet/mscc/felix_board.c
@@ -437,7 +437,7 @@ static int felix_ports_init(struct ocelot *ocelot)
 			goto release_ports;
 		}
 		/* register xmit handler for external ports */
-		if (ndev && port <= FELIX_EXT_CPU_PORT_ID)
+		if (ndev && port != FELIX_EXT_CPU_PORT_ID)
 			felix_register_xmit_handler(ocelot->ports[port], ndev);
 		/* TODO: check if FL phy require phy_start */
 	}
-- 
2.17.1


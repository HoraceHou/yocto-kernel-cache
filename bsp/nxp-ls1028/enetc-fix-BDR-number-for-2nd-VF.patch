From 7f52687d4d186bd498bdee9b18205f89b16d2af0 Mon Sep 17 00:00:00 2001
From: Alex Marginean <alexandru.marginean@nxp.com>
Date: Wed, 25 Apr 2018 16:29:48 +0300
Subject: [PATCH 139/706] enetc: fix BDR number for 2nd VF

Signed-off-by: Alex Marginean <alexandru.marginean@nxp.com>
(cherry picked from commit f6a3479850965508acd5428273761b27451ed90f)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 drivers/net/ethernet/freescale/enetc/enetc_pf.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/net/ethernet/freescale/enetc/enetc_pf.c b/drivers/net/ethernet/freescale/enetc/enetc_pf.c
index a2e371635fde..e37c2ea919b4 100644
--- a/drivers/net/ethernet/freescale/enetc/enetc_pf.c
+++ b/drivers/net/ethernet/freescale/enetc/enetc_pf.c
@@ -486,8 +486,8 @@ static void enetc_port_si_configure(struct enetc_si *si)
 		val |= ENETC_PSICFGR0_SET_RXBDR(num_rings);
 	}
 
-	for (i = 1; i < pf->total_vfs; i++)
-		enetc_port_wr(hw, ENETC_PSICFGR0(i), val);
+	for (i = 0; i < pf->total_vfs; i++)
+		enetc_port_wr(hw, ENETC_PSICFGR0(i+1), val);
 
 	/* Port level VLAN settings */
 	val = ENETC_PVCLCTR_OVTPIDL(ENETC_VLAN_TYPE_C | ENETC_VLAN_TYPE_S);
-- 
2.17.1


From 5045f857a5c629e8d8c5306f5207a0d370b98d3b Mon Sep 17 00:00:00 2001
From: Ashish Kumar <Ashish.Kumar@nxp.com>
Date: Mon, 26 Nov 2018 12:45:16 +0530
Subject: [PATCH 351/706] armv8: ls1028: dtsi: Add RSTCR node to facilitate
 reboot

Signed-off-by: Ashish Kumar <Ashish.Kumar@nxp.com>
(cherry picked from commit a79c40290fa60e3e0be66a046b4a1a4f4457bdda)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 arch/arm64/boot/dts/freescale/fsl-ls1028a.dtsi | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

diff --git a/arch/arm64/boot/dts/freescale/fsl-ls1028a.dtsi b/arch/arm64/boot/dts/freescale/fsl-ls1028a.dtsi
index f06dcdefa982..27175bbd83a2 100755
--- a/arch/arm64/boot/dts/freescale/fsl-ls1028a.dtsi
+++ b/arch/arm64/boot/dts/freescale/fsl-ls1028a.dtsi
@@ -148,11 +148,10 @@
 	};
 
 	reboot {
-		compatible ="syscon-reboot";
-		regmap = <&dcfg>;
-		offset = <0xb0>;
+		compatible = "syscon-reboot";
+		regmap = <&rstcr>;
+		offset = <0x0>;
 		mask = <0x02>;
-		status = "disabled";
 	};
 
 	timer {
@@ -281,6 +280,11 @@
 			big-endian;
 		};
 
+		rstcr: syscon@1e60000 {
+		compatible = "fsl,ls1028a-rstcr", "syscon";
+		reg = <0x0 0x1e60000 0x0 0x4>;
+		};
+
 		clockgen: clocking@1300000 {
 			compatible = "fsl,ls1028a-clockgen";
 			reg = <0x0 0x1300000 0x0 0xa0000>;
-- 
2.17.1


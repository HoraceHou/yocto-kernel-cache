From 94d23bd787191aaff1e6cf450d2305876ece8b19 Mon Sep 17 00:00:00 2001
From: Catalin Horghidan <catalin.horghidan@nxp.com>
Date: Wed, 27 Jun 2018 18:15:28 +0300
Subject: [PATCH 164/706] dts: ls1028a: add ENETC and MSI controller nodes

Signed-off-by: Catalin Horghidan <catalin.horghidan@nxp.com>
(cherry picked from commit f58780d22e9bb49ce23f5839f49f31084c06b805)
Signed-off-by: Zumeng Chen <zumeng.chen@windriver.com>
---
 arch/arm64/boot/dts/freescale/fsl-ls1028a.dtsi | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

diff --git a/arch/arm64/boot/dts/freescale/fsl-ls1028a.dtsi b/arch/arm64/boot/dts/freescale/fsl-ls1028a.dtsi
index 4e68c95f0799..8badd33df915 100755
--- a/arch/arm64/boot/dts/freescale/fsl-ls1028a.dtsi
+++ b/arch/arm64/boot/dts/freescale/fsl-ls1028a.dtsi
@@ -472,15 +472,18 @@
 			status = "disabled";
 		};
 
-		pcie@1F0000000 { /* rcie_enetc */
+		pcie@1f0000000 { /* rcie_enetc */
 			compatible = "pci-host-ecam-generic";
-			reg = <0x01 0xF0000000 0x0 0x100000>;
+			reg = <0x01 0xf0000000 0x0 0x100000>;
 			#address-cells = <3>;
 			#size-cells = <2>;
 			#interrupt-cells = <1>;
 			msi-parent = <&its>;
 			device_type = "pci";
 			bus-range = <0x0 0x0>;
+			dma-coherent;
+			msi-map = <0 &its 0 0xe>;
+			iommu-map = <0 &smmu 0x4000 0xe>;
 			ranges = <0x82000000 0x0 0x00000000  0x1 0xf8000000  0x0 0x160000     /* PF0-6 BAR0 - non-prefetchable memory */
 				  0xc2000000 0x0 0x00000000  0x1 0xf8160000  0x0 0x070000     /* PF0-6, BAR2 - prefetchable memory */
 				  0x82000000 0x0 0x00000000  0x1 0xf81d0000  0x0 0x020000     /* PF0, VF-BAR0 - non-prefetchable memory */
-- 
2.17.1


From 3e67f1df2977f27cbd5d8ed3d563e5dcb8df6219 Mon Sep 17 00:00:00 2001
From: Limeng <Meng.Li@windriver.com>
Date: Tue, 19 Nov 2019 14:17:07 +0800
Subject: [PATCH 09/40] Revert "can: xilinx: tx->head and tx->tail are
 initialized properly."

This reverts commit 1f383cdf1a58ec5a0a531d2f5ad6d47e02187520.
---
 drivers/net/can/xilinx_can.c | 5 -----
 1 file changed, 5 deletions(-)

diff --git a/drivers/net/can/xilinx_can.c b/drivers/net/can/xilinx_can.c
index 3ea89b6138de..2e66870e90b8 100644
--- a/drivers/net/can/xilinx_can.c
+++ b/drivers/net/can/xilinx_can.c
@@ -516,9 +516,6 @@ static int xcan_chip_start(struct net_device *ndev)
 		   priv->read_reg(priv, XCAN_SR_OFFSET));
 
 	priv->can.state = CAN_STATE_ERROR_ACTIVE;
-	priv->tx_head = 0;
-	priv->tx_tail = 0;
-
 	return 0;
 }
 
@@ -1702,8 +1699,6 @@ static int xcan_probe(struct platform_device *pdev)
 	priv->reg_base = addr;
 	priv->tx_max = tx_max;
 	spin_lock_init(&priv->tx_lock);
-	priv->tx_head = 0;
-	priv->tx_tail = 0;
 
 	/* Get IRQ for the device */
 	ndev->irq = platform_get_irq(pdev, 0);
-- 
2.17.1


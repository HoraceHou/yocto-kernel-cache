From 9143bfa4c2d826af868237cf4111ba71fcc89ce7 Mon Sep 17 00:00:00 2001
From: Shengjiu Wang <shengjiu.wang@nxp.com>
Date: Fri, 25 May 2018 10:37:51 +0800
Subject: [PATCH 3880/5242] MLK-18397-1: hdmi_rx: turn on aux_ana for rx arc

commit  070d06b31d8ec9291a43b4aa41e93549366d5cd7 from
https://source.codeaurora.org/external/imx/linux-imx.git

turn on aux_ana for rx arc

Signed-off-by: Shengjiu Wang <shengjiu.wang@nxp.com>
Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 .../platform/imx8/hdmi/API_AFE_ss28fdsoi_hdmirx.c  |    2 ++
 .../platform/imx8/hdmi/API_AFE_ss28fdsoi_hdmirx.h  |    1 +
 2 files changed, 3 insertions(+)

diff --git a/drivers/media/platform/imx8/hdmi/API_AFE_ss28fdsoi_hdmirx.c b/drivers/media/platform/imx8/hdmi/API_AFE_ss28fdsoi_hdmirx.c
index 19b8b7c..d03b606 100644
--- a/drivers/media/platform/imx8/hdmi/API_AFE_ss28fdsoi_hdmirx.c
+++ b/drivers/media/platform/imx8/hdmi/API_AFE_ss28fdsoi_hdmirx.c
@@ -95,6 +95,8 @@ void arc_config(state_struct *state)
 {
 	u16 reg_val;
 
+	write16(state, TXDA_CYA_AUXDA_CYA_ADDR, 0x0001);
+
 	write16(state, TX_DIG_CTRL_REG_2_ADDR, 0x0024);
 
 	reg_val = read16(state, TX_ANA_CTRL_REG_1_ADDR);
diff --git a/drivers/media/platform/imx8/hdmi/API_AFE_ss28fdsoi_hdmirx.h b/drivers/media/platform/imx8/hdmi/API_AFE_ss28fdsoi_hdmirx.h
index df46ee0..225e767 100644
--- a/drivers/media/platform/imx8/hdmi/API_AFE_ss28fdsoi_hdmirx.h
+++ b/drivers/media/platform/imx8/hdmi/API_AFE_ss28fdsoi_hdmirx.h
@@ -88,6 +88,7 @@
 #define TX_ANA_CTRL_REG_1_ADDR                 0x5020
 #define TX_ANA_CTRL_REG_2_ADDR                 0x5021
 #define TX_DIG_CTRL_REG_2_ADDR                 0x5024
+#define TXDA_CYA_AUXDA_CYA_ADDR                0x5025
 #define TX_ANA_CTRL_REG_3_ADDR                 0x5026
 #define TX_ANA_CTRL_REG_4_ADDR                 0x5027
 #define TX_ANA_CTRL_REG_5_ADDR                 0x5029
-- 
1.7.9.5


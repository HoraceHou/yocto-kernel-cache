From 64e5fdbcc5a78f3a407ee81ca497069ffa261b18 Mon Sep 17 00:00:00 2001
From: Richard Zhu <hongxing.zhu@nxp.com>
Date: Thu, 30 Nov 2017 13:44:43 +0800
Subject: [PATCH 2943/5242] MLK-16980 arm64: dts: imx8mq: adjust the cma
 allocation

commit  2f2eee9a5bdc7cb90a882fa4e9c1ab0880607baf from
https://source.codeaurora.org/external/imx/linux-imx.git

To resolve the confliction between CMA and the M4 reserved
memory region. Adjust the cma size and range.

Signed-off-by: Richard Zhu <hongxing.zhu@nxp.com>
Reviewed-by: Anson Huang <anson.huang@nxp.com>
Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 arch/arm64/boot/dts/freescale/fsl-imx8mq.dtsi |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/arch/arm64/boot/dts/freescale/fsl-imx8mq.dtsi b/arch/arm64/boot/dts/freescale/fsl-imx8mq.dtsi
index 6664d2e..e9d13f8 100644
--- a/arch/arm64/boot/dts/freescale/fsl-imx8mq.dtsi
+++ b/arch/arm64/boot/dts/freescale/fsl-imx8mq.dtsi
@@ -76,8 +76,8 @@
 		linux,cma {
 			compatible = "shared-dma-pool";
 			reusable;
-			size = <0 0x40000000>;
-			alloc-ranges = <0 0x40000000 0 0x70000000>;
+			size = <0 0x3c000000>;
+			alloc-ranges = <0 0x40000000 0 0x40000000>;
 			linux,cma-default;
 		};
 
-- 
1.7.9.5


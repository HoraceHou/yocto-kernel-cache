From 4de37c5810c9eb4ba41769bc619ed9adecaf69a4 Mon Sep 17 00:00:00 2001
From: Sandor Yu <Sandor.yu@nxp.com>
Date: Wed, 2 Aug 2017 14:46:17 +0800
Subject: [PATCH 2277/5242] MLK-16119-02: fbdev: add hdmi and api to kernel
 build

commit  78d698276f589af1bd9024da1e8dca6e00a6315f from
https://source.codeaurora.org/external/imx/linux-imx.git

Add hdmi and api driver to kernel build.

Signed-off-by: Sandor Yu <Sandor.yu@nxp.com>
Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 drivers/video/fbdev/mxc/Kconfig  |    8 ++++++++
 drivers/video/fbdev/mxc/Makefile |    2 ++
 2 files changed, 10 insertions(+)

diff --git a/drivers/video/fbdev/mxc/Kconfig b/drivers/video/fbdev/mxc/Kconfig
index 1e67cf5..ebcd67c 100644
--- a/drivers/video/fbdev/mxc/Kconfig
+++ b/drivers/video/fbdev/mxc/Kconfig
@@ -81,6 +81,14 @@ config FB_MXC_HDMI
 	help
 	  Driver for the on-chip MXC HDMI controller.
 
+config FB_MX8_HDMI
+	tristate "IMX 8 SOC HDMI"
+	depends on FB_IMX64 && ARCH_FSL_IMX8MQ
+	depends on FB_MXC_DISP_FRAMEWORK
+	help
+	  Candece HDMI driver which includes
+	  core and PHY management.
+
 config FB_MXC_EDID
      depends on FB_MXC && I2C
      tristate "MXC EDID support"
diff --git a/drivers/video/fbdev/mxc/Makefile b/drivers/video/fbdev/mxc/Makefile
index a36b323..5c17363 100644
--- a/drivers/video/fbdev/mxc/Makefile
+++ b/drivers/video/fbdev/mxc/Makefile
@@ -6,6 +6,8 @@ obj-$(CONFIG_FB_MXC_TRULY_PANEL_TFT3P5079E)     += mxcfb_otm8018b_wvga.o
 obj-$(CONFIG_FB_MXC_TRULY_PANEL_TFT3P5581E)	+= mxcfb_hx8363_wvga.o
 obj-$(CONFIG_FB_MXC_LDB) += ldb.o
 obj-$(CONFIG_FB_MXC_HDMI)			+= mxc_hdmi.o
+obj-$(CONFIG_FB_MX8_HDMI)			+= cdn_hdp/
+obj-$(CONFIG_FB_MX8_HDMI)			+= imx8_hdmi.o
 obj-$(CONFIG_FB_MXC_EDID)			+= mxc_edid.o
 obj-$(CONFIG_FB_MXC_ADV7535)			+= adv7535.o
 obj-$(CONFIG_FB_MXC_DISP_FRAMEWORK)		+= mxc_dispdrv.o
-- 
1.7.9.5


From a1fac0d271f629afe54ffcc887bc0f5d157753ba Mon Sep 17 00:00:00 2001
From: Frank Li <Frank.Li@nxp.com>
Date: Fri, 1 Sep 2017 13:06:48 -0500
Subject: [PATCH 2520/5242] MLK-16358-1: ARM: FSL: DTS: enable arm pmu for A53

commit  7505ab89c0f5c288107ad2dbce5482a07a0f2ea5 from
https://source.codeaurora.org/external/imx/linux-imx.git

Enable A53 PMU for imx8

Signed-off-by: Frank Li <Frank.Li@nxp.com>
Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 arch/arm64/boot/dts/freescale/fsl-imx8-ca53.dtsi |    9 +++++++++
 1 file changed, 9 insertions(+)

diff --git a/arch/arm64/boot/dts/freescale/fsl-imx8-ca53.dtsi b/arch/arm64/boot/dts/freescale/fsl-imx8-ca53.dtsi
index b1a4e4f..7f24d09 100644
--- a/arch/arm64/boot/dts/freescale/fsl-imx8-ca53.dtsi
+++ b/arch/arm64/boot/dts/freescale/fsl-imx8-ca53.dtsi
@@ -13,6 +13,8 @@
  * GNU General Public License for more details.
  */
 
+#include <dt-bindings/interrupt-controller/arm-gic.h>
+
 /{
 	cpus {
 		#address-cells = <2>;
@@ -88,4 +90,11 @@
 		cpu_off	      = <0xc4000002>;
 		cpu_on	      = <0xc4000003>;
 	};
+
+	pmu {
+                compatible = "arm,armv8-pmuv3";
+                interrupts = <GIC_PPI 7
+                        (GIC_CPU_MASK_SIMPLE(6) | IRQ_TYPE_LEVEL_HIGH)>;
+                interrupt-affinity = <&A53_0>, <&A53_1>, <&A53_2>, <&A53_3>;
+        };
 };
-- 
1.7.9.5


From b9c2a48f2aeaabe9d3c8a920f96e5a4e8761a6e5 Mon Sep 17 00:00:00 2001
From: Laurentiu Palcu <laurentiu.palcu@nxp.com>
Date: Fri, 19 Jan 2018 15:04:37 +0200
Subject: [PATCH 3391/5242] MLK-17634-5: drm: imx: dcss: overlay planes
 support HDR

commit  b16826b3ec75cffcb38f8f3d216bf3900e8f2689 from
https://source.codeaurora.org/external/imx/linux-imx.git

Signed-off-by: Laurentiu Palcu <laurentiu.palcu@nxp.com>
Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 drivers/gpu/drm/imx/dcss/dcss-plane.c |    3 +++
 1 file changed, 3 insertions(+)

diff --git a/drivers/gpu/drm/imx/dcss/dcss-plane.c b/drivers/gpu/drm/imx/dcss/dcss-plane.c
index 8786ca9..b9f25c2 100644
--- a/drivers/gpu/drm/imx/dcss/dcss-plane.c
+++ b/drivers/gpu/drm/imx/dcss/dcss-plane.c
@@ -526,6 +526,9 @@ struct dcss_plane *dcss_plane_init(struct drm_device *drm,
 		return ERR_PTR(ret);
 	}
 
+	if (type == DRM_PLANE_TYPE_OVERLAY)
+		dcss_plane->base.hdr_supported = true;
+
 	drm_plane_helper_add(&dcss_plane->base, &dcss_plane_helper_funcs);
 
 	ret = drm_plane_create_zpos_immutable_property(&dcss_plane->base, zpos);
-- 
1.7.9.5


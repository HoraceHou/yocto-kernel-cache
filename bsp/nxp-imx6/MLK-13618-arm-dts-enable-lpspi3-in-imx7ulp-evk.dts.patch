From 77bd440c3b0aeb573fa2421380689c7d34cf2ac6 Mon Sep 17 00:00:00 2001
From: Gao Pan <pandy.gao@nxp.com>
Date: Thu, 15 Dec 2016 14:34:15 +0800
Subject: [PATCH 1355/5242] MLK-13618 arm: dts: enable lpspi3 in
 imx7ulp-evk.dts

commit  f344a6774552072ce754e1deb8552ed8ee6dacc3 from
https://source.codeaurora.org/external/imx/linux-imx.git

Signed-off-by: Gao Pan <pandy.gao@nxp.com>
Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 arch/arm/boot/dts/imx7ulp-evk.dts |   23 +++++++++++++++++++++++
 1 file changed, 23 insertions(+)

diff --git a/arch/arm/boot/dts/imx7ulp-evk.dts b/arch/arm/boot/dts/imx7ulp-evk.dts
index 81c6860..4dce316 100644
--- a/arch/arm/boot/dts/imx7ulp-evk.dts
+++ b/arch/arm/boot/dts/imx7ulp-evk.dts
@@ -201,6 +201,15 @@
 			>;
 		};
 
+		pinctrl_lpspi3: lpspi3grp {
+			fsl,pins = <
+				IMX7ULP_PAD_PTF16__LPSPI3_SIN      0x300
+				IMX7ULP_PAD_PTF17__LPSPI3_SOUT     0x300
+				IMX7ULP_PAD_PTF18__LPSPI3_SCK      0x300
+				IMX7ULP_PAD_PTF19__LPSPI3_PCS0     0x300
+			>;
+		};
+
 		pinctrl_usb_otg1: usbotg1grp {
 			fsl,pins = <
 				IMX7ULP_PAD_PTC0__PTC0		0x30100
@@ -292,6 +301,20 @@
 	};
 };
 
+&lpspi3 {
+	#address-cells = <1>;
+	#size-cells = <0>;
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_lpspi3>;
+	status = "okay";
+
+	spidev0: spi@0 {
+		reg = <0>;
+		compatible = "rohm,dh2228fv";
+		spi-max-frequency = <1000000>;
+	};
+};
+
 &lpuart4 { /* console */
 	pinctrl-names = "default";
 	pinctrl-0 = <&pinctrl_lpuart4>;
-- 
1.7.9.5


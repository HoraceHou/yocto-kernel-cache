From 52d2fb87fd45d618c87a5b0764d6929e00f10cdb Mon Sep 17 00:00:00 2001
From: Sandor Yu <Sandor.yu@nxp.com>
Date: Thu, 20 Apr 2017 15:23:09 +0800
Subject: [PATCH 1715/5242] MLK-14650 mxc vadc: Add set_fmt function

commit  4a5a117a60f6b1d0c4cc15681a91020a23b5d99e from
https://source.codeaurora.org/external/imx/linux-imx.git

Add set_fmt function to mxc vadc driver.

Signed-off-by: Sandor Yu <Sandor.yu@nxp.com>
Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 drivers/media/platform/mxc/capture/mxc_vadc.c |    8 ++++++++
 1 file changed, 8 insertions(+)

diff --git a/drivers/media/platform/mxc/capture/mxc_vadc.c b/drivers/media/platform/mxc/capture/mxc_vadc.c
index 00690d6..2a844ca 100644
--- a/drivers/media/platform/mxc/capture/mxc_vadc.c
+++ b/drivers/media/platform/mxc/capture/mxc_vadc.c
@@ -524,6 +524,13 @@ static int vadc_get_fmt(struct v4l2_subdev *sd,
 	return 0;
 }
 
+static int vadc_set_fmt(struct v4l2_subdev *sd,
+			struct v4l2_subdev_pad_config *cfg,
+			struct v4l2_subdev_format *format)
+{
+	return vadc_get_fmt(sd, cfg, format);
+}
+
 static int vadc_enum_framesizes(struct v4l2_subdev *sd,
 			       struct v4l2_subdev_pad_config *cfg,
 			       struct v4l2_subdev_frame_size_enum *fse)
@@ -579,6 +586,7 @@ static int vadc_s_parm(struct v4l2_subdev *sd, struct v4l2_streamparm *parms)
 
 static const struct v4l2_subdev_pad_ops vadc_pad_ops = {
 	.get_fmt	       = vadc_get_fmt,
+	.set_fmt	       = vadc_set_fmt,
 	.enum_mbus_code        = vadc_enum_mbus_code,
 	.enum_frame_size       = vadc_enum_framesizes,
 	.enum_frame_interval   = vadc_enum_frameintervals,
-- 
1.7.9.5


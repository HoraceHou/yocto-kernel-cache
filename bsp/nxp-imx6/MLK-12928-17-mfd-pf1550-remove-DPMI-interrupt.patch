From 14de931a531d5b8295ecd443722db61d35de01dc Mon Sep 17 00:00:00 2001
From: Robin Gong <yibin.gong@nxp.com>
Date: Wed, 12 Oct 2016 14:55:33 +0800
Subject: [PATCH 1200/5242] MLK-12928-17 mfd: pf1550: remove DPMI interrupt

commit  859716134a4ea25d568098cfb81eb78715081c26 from
https://source.codeaurora.org/external/imx/linux-imx.git

That's pf1550's internal interrupt, useless for charger.

Signed-off-by: Robin Gong <yibin.gong@nxp.com>
Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 drivers/mfd/pf1550.c                  |    1 -
 drivers/power/supply/pf1550_charger.c |    4 ----
 include/linux/mfd/pf1550.h            |    1 -
 3 files changed, 6 deletions(-)

diff --git a/drivers/mfd/pf1550.c b/drivers/mfd/pf1550.c
index 275fbf6..06d0bef 100644
--- a/drivers/mfd/pf1550.c
+++ b/drivers/mfd/pf1550.c
@@ -101,7 +101,6 @@
 	{ .reg_offset = 0, .mask = CHARG_IRQ_BATI,		},
 	{ .reg_offset = 0, .mask = CHARG_IRQ_CHGI,		},
 	{ .reg_offset = 0, .mask = CHARG_IRQ_VBUSI,		},
-	{ .reg_offset = 0, .mask = CHARG_IRQ_DPMI,		},
 	{ .reg_offset = 0, .mask = CHARG_IRQ_THMI,		},
 };
 
diff --git a/drivers/power/supply/pf1550_charger.c b/drivers/power/supply/pf1550_charger.c
index 5a7f62e..fc7c5b9 100644
--- a/drivers/power/supply/pf1550_charger.c
+++ b/drivers/power/supply/pf1550_charger.c
@@ -49,7 +49,6 @@ struct pf1550_charger {
 	{ PF1550_CHARG_IRQ_BATI,		"BAT" },
 	{ PF1550_CHARG_IRQ_CHGI,		"CHG" },
 	{ PF1550_CHARG_IRQ_VBUSI,		"VBUS" },
-	{ PF1550_CHARG_IRQ_DPMI,		"DPM" },
 	{ PF1550_CHARG_IRQ_THMI,		"THM" },
 };
 
@@ -345,9 +344,6 @@ static void pf1550_charger_irq_work(struct work_struct *work)
 	case PF1550_CHARG_IRQ_VBUSI:
 		pf1550_chg_vbus_isr(chg);
 		break;
-	case PF1550_CHARG_IRQ_DPMI:
-		dev_info(chg->dev, "DPM interrupt.\n");
-		break;
 	case PF1550_CHARG_IRQ_THMI:
 		dev_info(chg->dev, "Thermal interrupt.\n");
 		break;
diff --git a/include/linux/mfd/pf1550.h b/include/linux/mfd/pf1550.h
index 76f0ae8..7e7a7d9 100644
--- a/include/linux/mfd/pf1550.h
+++ b/include/linux/mfd/pf1550.h
@@ -214,7 +214,6 @@ enum pf1550_charg_irq {
 	PF1550_CHARG_IRQ_BATI,
 	PF1550_CHARG_IRQ_CHGI,
 	PF1550_CHARG_IRQ_VBUSI,
-	PF1550_CHARG_IRQ_DPMI,
 	PF1550_CHARG_IRQ_THMI,
 };
 
-- 
1.7.9.5


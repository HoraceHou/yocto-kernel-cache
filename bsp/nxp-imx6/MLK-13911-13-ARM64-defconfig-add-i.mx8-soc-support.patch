From ea47ca091f19ffa3027b3d97e0d37d6df66fd424 Mon Sep 17 00:00:00 2001
From: Anson Huang <Anson.Huang@nxp.com>
Date: Thu, 19 Jan 2017 04:10:23 +0800
Subject: [PATCH 1417/5242] MLK-13911-13 ARM64: defconfig: add i.mx8 soc
 support

commit  87f10df0840c490308f8afbf00ac43f187d6290d from
https://source.codeaurora.org/external/imx/linux-imx.git

Add i.MX8QM/QXP/MQ support by default.

Signed-off-by: Anson Huang <Anson.Huang@nxp.com>
Signed-off-by: Peng Fan <peng.fan@nxp.com>
Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 arch/arm64/Kconfig           |    1 +
 arch/arm64/Kconfig.platforms |   31 +++++++++++++++++++++++++++++++
 2 files changed, 32 insertions(+)

diff --git a/arch/arm64/Kconfig b/arch/arm64/Kconfig
index 6c3cfae0..41ec0bb 100644
--- a/arch/arm64/Kconfig
+++ b/arch/arm64/Kconfig
@@ -863,6 +863,7 @@ config FORCE_MAX_ZONEORDER
 	int
 	default "14" if (ARM64_64K_PAGES && TRANSPARENT_HUGEPAGE)
 	default "12" if (ARM64_16K_PAGES && TRANSPARENT_HUGEPAGE)
+	default "14" if (ARCH_FSL_IMX8QM || ARCH_FSL_IMX8QXP || ARCH_FSL_IMX8MQ)
 	default "11"
 	help
 	  The kernel memory allocator divides physically contiguous memory
diff --git a/arch/arm64/Kconfig.platforms b/arch/arm64/Kconfig.platforms
index 21a715a..d50fa45 100644
--- a/arch/arm64/Kconfig.platforms
+++ b/arch/arm64/Kconfig.platforms
@@ -296,4 +296,35 @@ config ARCH_ZYNQMP
 	help
 	  This enables support for Xilinx ZynqMP Family
 
+config ARCH_FSL_IMX8QM
+	bool "Freescale i.MX8QM SOC"
+	select PINCTRL
+	select PINCTRL_IMX
+	select PINCTRL_IMX8QM
+	select PM
+	select SOC_BUS
+	help
+	  This enables support for Freescale i.MX8QM SOC.
+
+config ARCH_FSL_IMX8QXP
+	bool "Freescale i.MX8QXP SOC"
+	select PINCTRL
+	select PINCTRL_IMX
+	select PINCTRL_IMX8QXP
+	select PM
+	select SOC_BUS
+	help
+	  This enables support for Freescale i.MX8QXP SOC.
+
+config ARCH_FSL_IMX8MQ
+	bool "Freescale i.MX8MQ SOC"
+	select ARCH_MXC
+	select SERIAL_IMX
+	select PINCTRL
+	select PINCTRL_IMX
+	select PM
+	select SOC_BUS
+	help
+	  This enables support for Freescale i.MX8MQ SOC.
+
 endmenu
-- 
1.7.9.5


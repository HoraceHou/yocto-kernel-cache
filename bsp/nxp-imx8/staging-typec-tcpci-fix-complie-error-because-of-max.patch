From ba90df5fe9b255a0b33b908a65a30c65a19e5bfa Mon Sep 17 00:00:00 2001
From: Quanyang Wang <quanyang.wang@windriver.com>
Date: Wed, 10 Apr 2019 14:10:26 +0800
Subject: [PATCH 29/30] staging: typec: tcpci: fix complie error because of
 max_snk_mv/ma/mw

Because of upstream commit e8374db15436 ("usb: typec: tcpm: remove max_snk_mv/ma/mw"),
remove all max_snk_mv/ma/mw.

Signed-off-by: Quanyang Wang <quanyang.wang@windriver.com>
---
 drivers/staging/typec/tcpci.c | 11 +----------
 1 file changed, 1 insertion(+), 10 deletions(-)

diff --git a/drivers/staging/typec/tcpci.c b/drivers/staging/typec/tcpci.c
index 4c8ef688b180..511374f23591 100644
--- a/drivers/staging/typec/tcpci.c
+++ b/drivers/staging/typec/tcpci.c
@@ -755,9 +755,6 @@ static int tcpci_parse_config(struct tcpci *tcpci)
 					PDO_FIXED_EXTPOWER |
 					PDO_FIXED_USB_COMM |
 					PDO_FIXED_DATA_SWAP);
-		tcfg->max_snk_mv = 5000;
-		tcfg->max_snk_ma = 2000;
-		tcfg->max_snk_mw = 10000;
 		tcfg->operating_snk_mw = 500;
 
 		return 0;
@@ -789,13 +786,7 @@ static int tcpci_parse_config(struct tcpci *tcpci)
 	}
 
 	/* Get the max-snk-mv max-snk-ma op-snk-mw */
-	if (device_property_read_u32(tcpci->dev, "max-snk-mv",
-						&tcfg->max_snk_mv) ||
-		device_property_read_u32(tcpci->dev, "max-snk-ma",
-						&tcfg->max_snk_ma) ||
-		device_property_read_u32(tcpci->dev, "max-snk-mw",
-						&tcfg->max_snk_mw) ||
-		device_property_read_u32(tcpci->dev, "op-snk-mw",
+	if (device_property_read_u32(tcpci->dev, "op-snk-mw",
 						&tcfg->operating_snk_mw)) {
 		ret = -EINVAL;
 		goto snk_setting_wrong;
-- 
2.17.1


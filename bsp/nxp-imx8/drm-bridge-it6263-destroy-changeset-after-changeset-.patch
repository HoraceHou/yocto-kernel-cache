From a203eb875b6f36bc6bdac067fd8e223050100b90 Mon Sep 17 00:00:00 2001
From: Xulin Sun <xulin.sun@windriver.com>
Date: Wed, 5 Feb 2020 12:27:41 +0800
Subject: [PATCH 2/2] drm/bridge: it6263: destroy changeset after changeset
 applied

The initialized changeset should be destroyed after changeset applied.
And of_changeset_update_property() will malloc memory to
of_changeset_entry, it should be freed also after changeset applied.

Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 drivers/gpu/drm/bridge/it6263.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/gpu/drm/bridge/it6263.c b/drivers/gpu/drm/bridge/it6263.c
index 2bc5f5a79621..ec1510adeaa3 100644
--- a/drivers/gpu/drm/bridge/it6263.c
+++ b/drivers/gpu/drm/bridge/it6263.c
@@ -952,7 +952,7 @@ static int it6263_probe(struct i2c_client *client,
 			dev_warn(dev,
 				"Probe failed. Remote port '%s' disabled\n",
 				remote_node->full_name);
-
+		of_changeset_destroy(&ocs);
 		of_node_put(remote_node);
 	};
 #endif
-- 
2.17.1


From 310e3b13d94b715df78fd2d198afb969aea18e8b Mon Sep 17 00:00:00 2001
From: Khem Raj <raj.khem@gmail.com>
Date: Fri, 10 Feb 2017 17:57:08 -0800
Subject: [PATCH 099/198] build/arm64: Add rules for .dtbo files for dts
 overlays

commit e898d61571a98da56aeedff0dd35b58ce79fb5d6 from
https://github.com/raspberrypi/linux.git

We now create overlays as .dtbo files.

Signed-off-by: Khem Raj <raj.khem@gmail.com>
Signed-off-by: Xulin Sun <xulin.sun@windriver.com>
---
 arch/arm64/Makefile | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/arch/arm64/Makefile b/arch/arm64/Makefile
index bdf51a292eec..d43483927a30 100644
--- a/arch/arm64/Makefile
+++ b/arch/arm64/Makefile
@@ -129,6 +129,9 @@ zinstall install:
 %.dtb: scripts
 	$(Q)$(MAKE) $(build)=$(boot)/dts $(boot)/dts/$@
 
+%.dtbo: | scripts
+	$(Q)$(MAKE) $(build)=$(boot)/dts MACHINE=$(MACHINE) $(boot)/dts/$@
+
 PHONY += dtbs dtbs_install
 
 dtbs: prepare scripts
-- 
2.17.1


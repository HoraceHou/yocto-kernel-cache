From e955e2891d7ba6ec71730d0c55f6abcc79ed073f Mon Sep 17 00:00:00 2001
From: Igal Liberman <igall@marvell.com>
Date: Mon, 16 Jul 2018 15:31:39 +0300
Subject: [PATCH 0667/1051] dts: a8040: move uart enablement to board dts file

Change-Id: Ib865d1cff134407818c194237abea96bbfc97e41
Signed-off-by: Igal Liberman <igall@marvell.com>
[Kevin: The original patch got from Marvell sdk10.0_19.06]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/arm64/boot/dts/marvell/armada-8040-db-B.dts | 4 ++++
 arch/arm64/boot/dts/marvell/armada-8040-db-C.dts | 4 ++++
 arch/arm64/boot/dts/marvell/armada-8040-db-D.dts | 4 ++++
 arch/arm64/boot/dts/marvell/armada-8040-db-E.dts | 4 ++++
 arch/arm64/boot/dts/marvell/armada-8040-db.dtsi  | 1 -
 5 files changed, 16 insertions(+), 1 deletion(-)

diff --git a/arch/arm64/boot/dts/marvell/armada-8040-db-B.dts b/arch/arm64/boot/dts/marvell/armada-8040-db-B.dts
index 8328add192d0..a80fc49810f1 100644
--- a/arch/arm64/boot/dts/marvell/armada-8040-db-B.dts
+++ b/arch/arm64/boot/dts/marvell/armada-8040-db-B.dts
@@ -24,6 +24,10 @@
 	};
 };
 
+&uart0 {
+	status = "okay";
+};
+
 &ap_sdhci0 {
 	status = "okay";
 };
diff --git a/arch/arm64/boot/dts/marvell/armada-8040-db-C.dts b/arch/arm64/boot/dts/marvell/armada-8040-db-C.dts
index 621f84880717..fcc8e8abcd52 100644
--- a/arch/arm64/boot/dts/marvell/armada-8040-db-C.dts
+++ b/arch/arm64/boot/dts/marvell/armada-8040-db-C.dts
@@ -25,6 +25,10 @@
 	};
 };
 
+&uart0 {
+	status = "okay";
+};
+
 &ap_sdhci0 {
 	status = "okay";
 };
diff --git a/arch/arm64/boot/dts/marvell/armada-8040-db-D.dts b/arch/arm64/boot/dts/marvell/armada-8040-db-D.dts
index b4c75650fa4e..8f531faab79b 100644
--- a/arch/arm64/boot/dts/marvell/armada-8040-db-D.dts
+++ b/arch/arm64/boot/dts/marvell/armada-8040-db-D.dts
@@ -24,6 +24,10 @@
 	};
 };
 
+&uart0 {
+	status = "okay";
+};
+
 &ap_sdhci0 {
 	status = "okay";
 };
diff --git a/arch/arm64/boot/dts/marvell/armada-8040-db-E.dts b/arch/arm64/boot/dts/marvell/armada-8040-db-E.dts
index 0d24ef43de3b..782987de02aa 100644
--- a/arch/arm64/boot/dts/marvell/armada-8040-db-E.dts
+++ b/arch/arm64/boot/dts/marvell/armada-8040-db-E.dts
@@ -33,6 +33,10 @@
 	};
 };
 
+&uart0 {
+	status = "okay";
+};
+
 &ap_sdhci0 {
 	status = "okay";
 };
diff --git a/arch/arm64/boot/dts/marvell/armada-8040-db.dtsi b/arch/arm64/boot/dts/marvell/armada-8040-db.dtsi
index c80d4ca20bc8..d1b269ca98d6 100644
--- a/arch/arm64/boot/dts/marvell/armada-8040-db.dtsi
+++ b/arch/arm64/boot/dts/marvell/armada-8040-db.dtsi
@@ -82,7 +82,6 @@
 
 /* Accessible over the mini-USB CON9 connector on the main board */
 &uart0 {
-	status = "okay";
 	pinctrl-0 = <&uart0_pins>;
 	pinctrl-names = "default";
 };
-- 
2.17.1


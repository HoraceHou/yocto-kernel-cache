From 43a901347edb8663f198ae9b25752b0327932a71 Mon Sep 17 00:00:00 2001
From: Geetha sowjanya <gakula@marvell.com>
Date: Fri, 30 Nov 2018 16:01:37 +0530
Subject: [PATCH 0855/1051] soc: octeontx2: Sync up with upstream mbox APIs

Change-Id: I05b9808acf7bd98f2aa24564f001f4c595f388b4
Signed-off-by: Geetha sowjanya <gakula@marvell.com>
Reviewed-on: https://sj1git1.cavium.com/1762
Tested-by: sa_ip-sw-jenkins
Reviewed-by: Sunil Kovvuri Goutham <Sunil.Goutham@cavium.com>
[Kevin: The original patch got from Marvell sdk10.0_19.06]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 drivers/soc/marvell/octeontx2/mbox.c | 12 ++++--------
 1 file changed, 4 insertions(+), 8 deletions(-)

diff --git a/drivers/soc/marvell/octeontx2/mbox.c b/drivers/soc/marvell/octeontx2/mbox.c
index 1a745999bf94..a1ad31b3dddc 100644
--- a/drivers/soc/marvell/octeontx2/mbox.c
+++ b/drivers/soc/marvell/octeontx2/mbox.c
@@ -20,10 +20,8 @@ static const u16 msgs_offset = ALIGN(sizeof(struct mbox_hdr), MBOX_MSG_ALIGN);
 void otx2_mbox_reset(struct otx2_mbox *mbox, int devid)
 {
 	struct otx2_mbox_dev *mdev = &mbox->dev[devid];
-	struct mbox_hdr *tx_hdr =
-		(struct mbox_hdr *)(mdev->mbase  + mbox->tx_start);
-	struct mbox_hdr *rx_hdr =
-		(struct mbox_hdr *)(mdev->mbase  + mbox->rx_start);
+	struct mbox_hdr *tx_hdr = mdev->mbase  + mbox->tx_start;
+	struct mbox_hdr *rx_hdr = mdev->mbase  + mbox->rx_start;
 
 	spin_lock(&mdev->mbox_lock);
 	mdev->msg_size = 0;
@@ -163,10 +161,8 @@ EXPORT_SYMBOL(otx2_mbox_busy_poll_for_rsp);
 void otx2_mbox_msg_send(struct otx2_mbox *mbox, int devid)
 {
 	struct otx2_mbox_dev *mdev = &mbox->dev[devid];
-	struct mbox_hdr *tx_hdr =
-		(struct mbox_hdr *)(mdev->mbase  + mbox->tx_start);
-	struct mbox_hdr *rx_hdr =
-		(struct mbox_hdr *)(mdev->mbase  + mbox->rx_start);
+	struct mbox_hdr *tx_hdr = mdev->mbase  + mbox->tx_start;
+	struct mbox_hdr *rx_hdr = mdev->mbase  + mbox->rx_start;
 
 	spin_lock(&mdev->mbox_lock);
 	/* Reset header for next messages */
-- 
2.17.1


From d0a8a7358e816f599e574aac885d52263e68f0d4 Mon Sep 17 00:00:00 2001
From: Yelena Krivosheev <yelena@marvell.com>
Date: Tue, 27 Nov 2018 12:28:39 +0200
Subject: [PATCH 0814/1051] net: mvneta: fix error processing in setup rxq

Change-Id: I15753db9a2540d33ee56cdc85fb9ac58d683c886
Signed-off-by: Yelena Krivosheev <yelena@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/61359
Tested-by: iSoC Platform CI <ykjenk@marvell.com>
Reviewed-by: Stefan Chulski <stefanc@marvell.com>
[Kevin: The original patch got from Marvell sdk10.0_19.06]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 drivers/net/ethernet/marvell/mvneta.c | 1 -
 1 file changed, 1 deletion(-)

diff --git a/drivers/net/ethernet/marvell/mvneta.c b/drivers/net/ethernet/marvell/mvneta.c
index 5abce2ea138f..39bd3b9d023b 100644
--- a/drivers/net/ethernet/marvell/mvneta.c
+++ b/drivers/net/ethernet/marvell/mvneta.c
@@ -3135,7 +3135,6 @@ static int mvneta_setup_rxqs(struct mvneta_port *pp)
 		if (err) {
 			netdev_err(pp->dev, "%s: can't create rxq=%d\n",
 				   __func__, queue);
-			mvneta_cleanup_rxqs(pp);
 			return err;
 		}
 	}
-- 
2.17.1


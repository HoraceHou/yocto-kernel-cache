From bcb18ee40cc7910caaadd9b89c7e3a6bad452c64 Mon Sep 17 00:00:00 2001
From: Grzegorz Jaszczyk <jaz@semihalf.com>
Date: Fri, 20 Apr 2018 17:13:47 +0200
Subject: [PATCH 0598/1051] arm64: dts: marvell: 8040-db: add comphy references
 to USB port

Adding phandle to the USB port will allow HCD driver to configure
appropriate marvell, comphy-cp110 accordingly.

Change-Id: I9b92f4b9d154ef6fdcd2849a8c5b2ab3330effbc
Signed-off-by: Grzegorz Jaszczyk <jaz@semihalf.com>
[Kevin: The original patch got from Marvell sdk10.0_19.06]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 arch/arm64/boot/dts/marvell/armada-8040-db.dts | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/arch/arm64/boot/dts/marvell/armada-8040-db.dts b/arch/arm64/boot/dts/marvell/armada-8040-db.dts
index d3700da9906b..6640d3fa4c97 100644
--- a/arch/arm64/boot/dts/marvell/armada-8040-db.dts
+++ b/arch/arm64/boot/dts/marvell/armada-8040-db.dts
@@ -184,6 +184,9 @@
 &cp0_usb3_1 {
 	usb-phy = <&cp0_usb3_1_phy>;
 	status = "okay";
+	/* Generic PHY, providing serdes lanes */
+	phys = <&cp0_comphy4 1>;
+	phy-names = "usb";
 };
 
 &cp0_mdio {
-- 
2.17.1


From 75640818ea3af7fef2f7d50ec3349b71ca414a26 Mon Sep 17 00:00:00 2001
From: Grzegorz Jaszczyk <jaz@semihalf.com>
Date: Tue, 17 Apr 2018 14:24:51 +0200
Subject: [PATCH 0596/1051] arm64: dts: marvell: mcbin: add comphy references
 to SATA ports

Adding phandles to the SATA ports will allow AHCI driver to configure
appropriate marvell, comphy-cp110 accordingly.

Change-Id: Ie34d62781544234fd71e7e717394d7c6857f2583
Signed-off-by: Grzegorz Jaszczyk <jaz@semihalf.com>
[Kevin: The original patch got from Marvell sdk10.0_19.06]
Signed-off-by: Kevin Hao <kexin.hao@windriver.com>
---
 .../boot/dts/marvell/armada-8040-mcbin.dts    | 21 +++++++++++++++++++
 1 file changed, 21 insertions(+)

diff --git a/arch/arm64/boot/dts/marvell/armada-8040-mcbin.dts b/arch/arm64/boot/dts/marvell/armada-8040-mcbin.dts
index 1651ce386e6e..cad9d1b1c1c4 100644
--- a/arch/arm64/boot/dts/marvell/armada-8040-mcbin.dts
+++ b/arch/arm64/boot/dts/marvell/armada-8040-mcbin.dts
@@ -267,6 +267,16 @@
 &cp0_sata0 {
 	/* CPM Lane 0 - U29 */
 	status = "okay";
+
+	sata-port@0 {
+		status = "disabled";
+	};
+
+	sata-port@1 {
+		status = "okay";
+		/* Generic PHY, providing serdes lanes */
+		phys = <&cp0_comphy5 1>;
+	};
 };
 
 &cp0_sdhci0 {
@@ -357,6 +367,17 @@
 	/* CPS Lane 1 - U32 */
 	/* CPS Lane 3 - U31 */
 	status = "okay";
+	sata-port@0 {
+		status = "okay";
+		/* Generic PHY, providing serdes lanes */
+		phys = <&cp1_comphy1 0>;
+	};
+
+	sata-port@1 {
+		status = "okay";
+		/* Generic PHY, providing serdes lanes */
+		phys = <&cp1_comphy3 1>;
+	};
 };
 
 &cp1_spi1 {
-- 
2.17.1


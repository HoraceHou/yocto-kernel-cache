From 079d82e1e9a47a836980c1848858fde672efa5f3 Mon Sep 17 00:00:00 2001
From: Yue Tao <Yue.Tao@windriver.com>
Date: Tue, 11 Jun 2019 14:43:56 +0800
Subject: [PATCH 1/3] Revert "mtd: nand: fix for mtd nand_oob test"

This reverts commit 8f0832f4015ba056d3db3261bf5963b7cc9e4ba8.
---
 drivers/mtd/nand/raw/nand_base.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/drivers/mtd/nand/raw/nand_base.c b/drivers/mtd/nand/raw/nand_base.c
index 4e147c082bc1..96b2bd695494 100644
--- a/drivers/mtd/nand/raw/nand_base.c
+++ b/drivers/mtd/nand/raw/nand_base.c
@@ -4559,10 +4559,10 @@ static int nand_do_write_oob(struct mtd_info *mtd, loff_t to,
 	 * interface mode. This will be the problem for devices configured for
 	 * NVDDR modes. So, limiting the reset operation to Toshiba devices.
 	 */
-	if (chip->onfi_params.jedec_id == NAND_MFR_TOSHIBA) {
+	if (chip->onfi_params.jedec_id == NAND_MFR_TOSHIBA)
 		chip->cmdfunc(mtd, NAND_CMD_RESET, -1, -1);
-		nand_reset(chip, chipnr);
-	}
+
+	nand_reset(chip, chipnr);
 
 	chip->select_chip(mtd, chipnr);
 
-- 
2.17.1


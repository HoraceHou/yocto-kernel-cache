From a80ead2843a1fc2885f80233f9052eff7575a101 Mon Sep 17 00:00:00 2001
From: Yelena Krivosheev <yelena@marvell.com>
Date: Mon, 8 May 2017 13:59:04 +0300
Subject: [PATCH 1012/1345] fix: net: mvneta: print out number of buffers
 cannot be free

commit  ffcd8fee6c62660bd8687cb4c4ee80acf36941a1 from
https://github.com/MarvellEmbeddedProcessors/linux-marvell.git

Change-Id: I37ffc1a8f6ae874264b7c5b9df0a3bf0811d242e
Signed-off-by: Yelena Krivosheev <yelena@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/39239
Tested-by: iSoC Platform CI <ykjenk@marvell.com>
Reviewed-by: Neta Zur Hershkovits <neta@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/39676
Reviewed-by: Victor Gu <xigu@marvell.com>
Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 drivers/net/ethernet/marvell/mvneta_bm.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/marvell/mvneta_bm.c b/drivers/net/ethernet/marvell/mvneta_bm.c
index 82b3bad..2d54fea 100644
--- a/drivers/net/ethernet/marvell/mvneta_bm.c
+++ b/drivers/net/ethernet/marvell/mvneta_bm.c
@@ -279,7 +279,7 @@ void mvneta_bm_pool_destroy(struct mvneta_bm *priv,
 
 	mvneta_bm_bufs_free(priv, bm_pool, port_map);
 	if (hwbm_pool->buf_num)
-		WARN(1, "cannot free all buffers in pool %d\n", bm_pool->id);
+		WARN(1, "cannot free %d buffers in pool %d\n", hwbm_pool->buf_num, bm_pool->id);
 
 	if (bm_pool->virt_addr) {
 		dma_free_coherent(&priv->pdev->dev,
-- 
1.7.9.5


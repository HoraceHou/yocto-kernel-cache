From 0b9f958a3731f7482a2aa9a3b3a08dd516fde3a7 Mon Sep 17 00:00:00 2001
From: Omri Itach <omrii@marvell.com>
Date: Thu, 10 Nov 2016 17:36:53 +0200
Subject: [PATCH 0594/1345] dt-bindings: clk: add bindings for AP806 CPU clock
 driver

commit  39d48eedd3f501a386fc0cdb184997c8a75854e6 from
https://github.com/MarvellEmbeddedProcessors/linux-marvell.git

Change-Id: Ib03552a52e36560e566f847cc5604ba99ee28c9f
Signed-off-by: Omri Itach <omrii@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/33666
Reviewed-by: Igal Liberman <igall@marvell.com>
Reviewed-by: Gina Tadmore <gina@marvell.com>
Reviewed-by: Hanna Hawa <hannah@marvell.com>
Tested-by: Star_Automation <star@marvell.com>
Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 .../clock/mvebu-armada-ap806-cpu-clock.txt         |   54 ++++++++++++++++++++
 1 file changed, 54 insertions(+)
 create mode 100644 Documentation/devicetree/bindings/clock/mvebu-armada-ap806-cpu-clock.txt

diff --git a/Documentation/devicetree/bindings/clock/mvebu-armada-ap806-cpu-clock.txt b/Documentation/devicetree/bindings/clock/mvebu-armada-ap806-cpu-clock.txt
new file mode 100644
index 0000000..755f0e8
--- /dev/null
+++ b/Documentation/devicetree/bindings/clock/mvebu-armada-ap806-cpu-clock.txt
@@ -0,0 +1,54 @@
+* Clock bindings for Marvell MVEBU AP806 CPU clock
+
+The Marvell MVEBU Armada 7K/8K SoCs contains a block called AP806,
+hosting the CPU and other core components of the CPU.
+This Device Tree binding allows to describe the AP806 CPU clock settings
+and CPU mapping of the AP806, whose frequencies are determined by
+reading the Sample-At-Reset (SAR)register.
+
+NOTE:
+When ap806_clock node is enabled, and CPU clock driver initialized
+successfully, it will also register and enable the cpufreq-dt generic
+driver for CPU frequency scaling.
+
+
+Required properties for ap806_clock node:
+- compatible: must be be the following:
+	"marvell,ap806-cpu-clk", "syscon"
+- reg: must be the register address of the CPU Dynamic Frequency Base
+	Scaling register base (which is the Sample-At-Reset (SAR) register base)
+- #clock-cells: from common clock binding; shall be set to 1
+- #clock: pointer to "ap-cpu-cluster-0" clock entry in ap806-system-controller node
+
+Required properties for CPU nodes:
+- clocks: a list of phandle + clock-specifier pairs to ap806_clock,
+		one for each CPU node.
+
+Example:
+	cpu0: cpu@000 {
+		..
+		clocks = <&ap806_clock 0>;
+		..
+	};
+	cpu1: cpu@001 {
+		..
+		clocks = <&ap806_clock 0>;
+		..
+	};
+	cpu2: cpu@100 {
+		..
+		clocks = <&ap806_clock 1>;
+		..
+	};
+	cpu3: cpu@101 {
+		..
+		clocks = <&ap806_clock 1>;
+		..
+	};
+
+	ap806_clock: ap806_clock {
+		compatible = "marvell,ap806-cpu-clk", "syscon";
+		#clock-cells = <1>;
+		clocks = <&ap_syscon 0>;
+		reg = <0x6f8200 0x100>;
+	};
-- 
1.7.9.5


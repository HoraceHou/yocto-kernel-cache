From f0de1b9dbfa450ff1f92adb9b21b26752dce4568 Mon Sep 17 00:00:00 2001
From: Marcin Wojtas <mw@semihalf.com>
Date: Tue, 21 Jun 2016 13:20:44 +0300
Subject: [PATCH 0593/1345] ARM: dts: a38x: add telephony support

commit  1ef89f94ee08b5befb14d382a6b0580cb8fd29c3 from
https://github.com/MarvellEmbeddedProcessors/linux-marvell.git

Change-Id: I785da56731efbbe4ea4f895956d9e797cc6f99e4
Signed-off-by: Igal Liberman <igall@marvell.com>
Signed-off-by: Marcin Wojtas <mw@semihalf.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/33909
Tested-by: Star_Automation <star@marvell.com>
Reviewed-by: Hanna Hawa <hannah@marvell.com>
Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 arch/arm/boot/dts/armada-38x.dtsi |   16 ++++++++++++++++
 1 file changed, 16 insertions(+)

diff --git a/arch/arm/boot/dts/armada-38x.dtsi b/arch/arm/boot/dts/armada-38x.dtsi
index 2f5925c..85a997c 100644
--- a/arch/arm/boot/dts/armada-38x.dtsi
+++ b/arch/arm/boot/dts/armada-38x.dtsi
@@ -220,6 +220,12 @@
 			pinctrl: pinctrl@18000 {
 				reg = <0x18000 0x20>;
 
+				tdm_pins: tdm_pins {
+					marvell,pins = "mpp48", "mpp49", "mpp50",
+						       "mpp51", "mpp52", "mpp53";
+					marvell,function = "tdm";
+				};
+
 				ge0_rgmii_pins: ge-rgmii-pins-0 {
 					marvell,pins = "mpp6", "mpp7", "mpp8",
 						       "mpp9", "mpp10", "mpp11",
@@ -603,6 +609,16 @@
 				status = "disabled";
 			};
 
+			tdm@b0000 {
+				compatible = "marvell,armada-380-tdm";
+				reg = <0xb0000 0x5000>, <0x18400 0xc>, <0x18730 0x4>;
+				reg-names = "tdm_regs", "pll_regs", "dco_div";
+				interrupts = <0 27 0x4>;
+				clocks = <&gateclk 25>;
+				clock-names = "gateclk";
+				status = "disabled";
+			};
+
 			sdhci: sdhci@d8000 {
 				compatible = "marvell,armada-380-sdhci";
 				reg-names = "sdhci", "mbus", "conf-sdio3";
-- 
1.7.9.5


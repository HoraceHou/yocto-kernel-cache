From b683e3eae72cc7926f24b99bb297129e0fc7f6d9 Mon Sep 17 00:00:00 2001
From: Stefan Chulski <stefanc@marvell.com>
Date: Sun, 8 Jan 2017 17:21:30 +0200
Subject: [PATCH 0719/1345] net: mvpp2x: remove redundant skb NULL check from
 TXQ buffer free callback

commit  f68c99771571fb2a3e8cb6acd4d163313ca1d2e8 from
https://github.com/MarvellEmbeddedProcessors/linux-marvell.git

Change-Id: I70944978bb1df7d1e564f5d27f9ecc2b41da11fd
Signed-off-by: Stefan Chulski <stefanc@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/35383
Tested-by: iSoC Platform CI <ykjenk@marvell.com>
Reviewed-by: Hanna Hawa <hannah@marvell.com>
Reviewed-by: Omri Itach <omrii@marvell.com>
Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 drivers/net/ethernet/marvell/mvpp2x/mv_pp2x_main.c |    2 --
 1 file changed, 2 deletions(-)

diff --git a/drivers/net/ethernet/marvell/mvpp2x/mv_pp2x_main.c b/drivers/net/ethernet/marvell/mvpp2x/mv_pp2x_main.c
index a02df69..cb2d0e3 100644
--- a/drivers/net/ethernet/marvell/mvpp2x/mv_pp2x_main.c
+++ b/drivers/net/ethernet/marvell/mvpp2x/mv_pp2x_main.c
@@ -996,8 +996,6 @@ static void mv_pp2x_txq_buf_free(struct mv_pp2x_port *port, uintptr_t skb,
 		return;
 	}
 
-	if (!skb)
-		return;
 	if (skb & MVPP2_ETH_SHADOW_SKB) {
 		skb &= ~MVPP2_ETH_SHADOW_SKB;
 		dev_kfree_skb_any((struct sk_buff *)skb);
-- 
1.7.9.5


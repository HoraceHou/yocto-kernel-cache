From 9a68ec0abfef887bb195763f3e0166b7eb74e0ec Mon Sep 17 00:00:00 2001
From: Evan Wang <xswang@marvell.com>
Date: Tue, 8 Aug 2017 11:11:50 +0800
Subject: [PATCH 1105/1345] fix: dts: a37x0: correct the AVS core clock

commit  f78c31254b95d71c5d2ac90c6486820b05be6458 from
https://github.com/MarvellEmbeddedProcessors/linux-marvell.git

The AVS clock here should be CPU colck in order to
make AVS work in OPP framework.
The CPU clock is 16@nb_periph_clk.

Change-Id: Ieb3f3f496a4fc5cf13c4892f2706e5624efee2d8
Signed-off-by: Evan Wang <xswang@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/42660
Reviewed-by: Victor Gu <xigu@marvell.com>
Tested-by: iSoC Platform CI <ykjenk@marvell.com>
Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 arch/arm64/boot/dts/marvell/armada-37xx.dtsi |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/arch/arm64/boot/dts/marvell/armada-37xx.dtsi b/arch/arm64/boot/dts/marvell/armada-37xx.dtsi
index 7714bce0..16eef33 100644
--- a/arch/arm64/boot/dts/marvell/armada-37xx.dtsi
+++ b/arch/arm64/boot/dts/marvell/armada-37xx.dtsi
@@ -159,7 +159,7 @@
 			reg_avs: avs@11500 {
 				compatible = "marvell,armada-3700-avs";
 				reg = <0x11500 0x40>;
-				clocks = <&core_clk 4>;
+				clocks = <&nb_periph_clk 16>;
 				status = "disabled";
 			};
 
-- 
1.7.9.5


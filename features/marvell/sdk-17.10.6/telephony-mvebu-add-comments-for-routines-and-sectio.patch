From 613d6654b2fb37182226175cf77ba1a8d14e08d5 Mon Sep 17 00:00:00 2001
From: Marcin Wojtas <mw@semihalf.com>
Date: Thu, 22 Dec 2016 12:20:07 +0100
Subject: [PATCH 0675/1345] telephony: mvebu: add comments for routines and
 sections of code

commit  32cac181d75fa2d03b1189be71e2df07bc153148 from
https://github.com/MarvellEmbeddedProcessors/linux-marvell.git

Change-Id: Id0cdfadd642fa4aff27f979c7afef13041631eea
Signed-off-by: Marcin Wojtas <mw@semihalf.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/35044
Reviewed-by: Omri Itach <omrii@marvell.com>
Tested-by: iSoC Platform CI <ykjenk@marvell.com>
Reviewed-by: Hanna Hawa <hannah@marvell.com>
Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 drivers/telephony/mvebu_phone/mv_phone_dev.c |    9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

diff --git a/drivers/telephony/mvebu_phone/mv_phone_dev.c b/drivers/telephony/mvebu_phone/mv_phone_dev.c
index 07e11c6..8b92a5a 100644
--- a/drivers/telephony/mvebu_phone/mv_phone_dev.c
+++ b/drivers/telephony/mvebu_phone/mv_phone_dev.c
@@ -190,6 +190,9 @@ static int mv_phone_status_open(struct inode *inode, struct file *file)
 	.release	= seq_release,
 };
 
+/* TAL callbacks */
+
+/* PCM start */
 static void tdm2c_if_pcm_start(void)
 {
 	unsigned long flags;
@@ -258,6 +261,7 @@ static void tdmmc_if_pcm_start(void)
 	spin_unlock_irqrestore(&tdm_if_lock, flags);
 }
 
+/* PCM stop */
 static void tdm2c_if_pcm_stop(void)
 {
 	unsigned long flags;
@@ -299,7 +303,7 @@ static void tdmmc_if_pcm_stop(void)
 	spin_unlock_irqrestore(&tdm_if_lock, flags);
 }
 
-/* Initialize the TDM subsystem. */
+/* TDM low-level initialization */
 static int tdm_hw_init(struct mv_phone_params *tdm_params)
 {
 	struct mv_phone_data hal_data;
@@ -352,6 +356,7 @@ static int tdm_hw_init(struct mv_phone_params *tdm_params)
 	return ret;
 }
 
+/* Main TDM initialization routine */
 int tdm_if_init(struct tal_params *tal_params)
 {
 	struct mv_phone_params tdm_params;
@@ -443,6 +448,7 @@ void tdm2c_pcm_disable(void)
 
 }
 
+/* Main TDM deinitialization routine */
 void tdm_if_exit(void)
 {
 	int i;
@@ -492,6 +498,7 @@ void tdm_if_exit(void)
 	}
 }
 
+/* Common interrupt top-half handler */
 static irqreturn_t tdm_if_isr(int irq, void *dev_id)
 {
 	struct mv_phone_intr_info tdm_int_info;
-- 
1.7.9.5


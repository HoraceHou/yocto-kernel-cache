From 3a4fdc4258c3984388d2636bde900ed6b24b2143 Mon Sep 17 00:00:00 2001
From: Stefan Chulski <stefanc@marvell.com>
Date: Thu, 16 Mar 2017 15:46:10 +0200
Subject: [PATCH 0879/1345] dts: a80x0: add phy 3310 handler for MaciatoBIN
 device tree

commit  2e584b10b97fb75b93aff7be217f8a8a294455d4 from
https://github.com/MarvellEmbeddedProcessors/linux-marvell.git

- CP0 Port 0 connected to CP0 MDIO XSMI 0
- CP1 Port 0 connected to CP0 MDIO XSMI 8

Change-Id: I001c3e6ef9d8c778f332fc8d133a4552649feeec
Signed-off-by: Stefan Chulski <stefanc@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/37523
Tested-by: iSoC Platform CI <ykjenk@marvell.com>
Reviewed-by: Hanna Hawa <hannah@marvell.com>
Reviewed-by: Omri Itach <omrii@marvell.com>
Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 arch/arm64/boot/dts/marvell/armada-8040-mcbin.dts |   14 ++++++++++++++
 1 file changed, 14 insertions(+)

diff --git a/arch/arm64/boot/dts/marvell/armada-8040-mcbin.dts b/arch/arm64/boot/dts/marvell/armada-8040-mcbin.dts
index 447154c..ac104e7 100644
--- a/arch/arm64/boot/dts/marvell/armada-8040-mcbin.dts
+++ b/arch/arm64/boot/dts/marvell/armada-8040-mcbin.dts
@@ -85,11 +85,24 @@
 				status = "okay";
 			};
 
+			mdio@15b000 {
+				#address-cells = <1>;
+				#size-cells = <0>;
+				phy0: ethernet-phy@0 {
+					compatible = "ethernet-phy-ieee802.3-c45";
+					reg = <0>;
+				};
+				phy1: ethernet-phy@1 {
+					compatible = "ethernet-phy-ieee802.3-c45";
+					reg = <8>;
+				};
+			};
 			gop {
 				emac0_0: mac0 {
 					phy-mode = "sfi"; /* lane-4 */
 					phys = <&comphy0 4 COMPHY_SFI>;
 					phy-names = "comphy";
+					phy = <&phy0>;
 				};
 			};
 			ppv22@000000 {
@@ -127,6 +140,7 @@
 					phy-mode = "sfi"; /* lane-4 */
 					phys = <&comphy1 4 COMPHY_SFI>;
 					phy-names = "comphy";
+					phy = <&phy1>;
 				};
 				emac2_1: mac2 {
 					phy-mode = "sgmii"; /* lane-0 */
-- 
1.7.9.5


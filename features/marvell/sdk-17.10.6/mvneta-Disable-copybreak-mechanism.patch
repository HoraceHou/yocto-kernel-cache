From 788f687b4027aebf36603132e185191781933732 Mon Sep 17 00:00:00 2001
From: Dmitri Epshtein <dima@marvell.com>
Date: Sun, 29 May 2016 13:46:54 +0300
Subject: [PATCH 0260/1345] mvneta: Disable copybreak mechanism

commit  431f4cb7a904eb4f1ce27551c850fd7aca851e04 from
https://github.com/MarvellEmbeddedProcessors/linux-marvell.git

- Set default rx_copybreak value to 0.
Enable of copybreak code cause skb allocation failures

Change-Id: I02593161f10683d67231f9bfb5ad6f449fd6b359
Signed-off-by: Dmitri Epshtein <dima@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/30094
Tested-by: Star_Automation <star@marvell.com>
Reviewed-by: Ofer Heifetz <oferh@marvell.com>
Reviewed-by: Lior Amsalem <alior@marvell.com>
Reviewed-by: Hanna Hawa <hannah@marvell.com>
Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 drivers/net/ethernet/marvell/mvneta.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/marvell/mvneta.c b/drivers/net/ethernet/marvell/mvneta.c
index a1e9528..6d108f7 100644
--- a/drivers/net/ethernet/marvell/mvneta.c
+++ b/drivers/net/ethernet/marvell/mvneta.c
@@ -611,7 +611,8 @@ struct mvneta_rx_queue {
 
 static int rxq_def;
 
-static int rx_copybreak __read_mostly = 256;
+/* Default value is 0 - no copybreak */
+static int rx_copybreak __read_mostly;
 
 /* HW BM need that each port be identify by a unique ID */
 static int global_port_id;
-- 
1.7.9.5

